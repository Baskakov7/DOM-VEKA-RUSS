<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dom Veka ‚Äî –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–º–∞ –≤ –õ–û –∏ –°–ü–±</title>
  <meta name="description" content="Dom Veka ‚Äî —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–æ–º–æ–≤ –≤ –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, —Ä–∞–∑—É–º–Ω—ã–µ —Ü–µ–Ω—ã." />
  <meta name="author" content="Dom Veka" />
  <!-- –¶–≤–µ—Ç —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥ —Ç–µ–º—ã -->
  <meta name="theme-color" content="#f3f4f6" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#0e1524" media="(prefers-color-scheme: dark)">
  <meta id="dynamic-theme-color" name="theme-color" content="#f3f4f6">
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <!-- –®—Ä–∏—Ñ—Ç—ã -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet" media="all" />
  <link rel="canonical" href="https://–≤–∞—à-—Å–∞–π—Ç.github.io/" />
  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Dom Veka ‚Äî –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–º–∞ –≤ –õ–û –∏ –°–ü–±" />
  <meta property="og:description" content="–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –¥–æ–º–æ–≤. –ö–∞—á–µ—Å—Ç–≤–æ, —Å—Ç–∏–ª—å, –∫–æ–º—Ñ–æ—Ä—Ç." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://–≤–∞—à-—Å–∞–π—Ç.github.io/house1.jpg" />
  <meta property="og:url" content="https://–≤–∞—à-—Å–∞–π—Ç.github.io/" />
  <meta property="og:site_name" content="Dom Veka" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Dom Veka ‚Äî –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–º–∞ –≤ –õ–û –∏ –°–ü–±" />
  <meta name="twitter:description" content="–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, —Ä–∞–∑—É–º–Ω—ã–µ —Ü–µ–Ω—ã." />
  <meta name="twitter:image" content="https://–≤–∞—à-—Å–∞–π—Ç.github.io/house1.jpg" />

  <!-- JSON-LD: Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Dom Veka",
    "url": "https://–≤–∞—à-—Å–∞–π—Ç.github.io/",
    "logo": "https://–≤–∞—à-—Å–∞–π—Ç.github.io/logo.png",
    "email": "infodomveka@mail.ru",
    "telephone": "+7-921-424-39-39",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "addressRegion": "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "addressCountry": "RU"
    }
  }
  </script>

  <!-- JSON-LD: WebSite -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"Dom Veka",
    "url":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/",
    "potentialAction":{
      "@type":"SearchAction",
      "target":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/?q={search_term_string}",
      "query-input":"required name=search_term_string"
    }
  }
  </script>

  <!-- JSON-LD: Products -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@graph":[
      {
        "@type":"Product",
        "name":"–ü—Ä–æ–µ–∫—Ç 46",
        "category":"–î–æ–º",
        "brand":{"@type":"Brand","name":"Dom Veka"},
        "url":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/#p1",
        "image":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/house1.jpg",
        "description":"–û–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–º, 180 –º¬≤: 4 —Å–ø–∞–ª—å–Ω–∏ (–≤–∫–ª—é—á–∞—è –º–∞—Å—Ç–µ—Ä-—Å–ø–∞–ª—å–Ω—é), –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, 3 —Å–∞–Ω—É–∑–ª–∞. –¶–µ–Ω–∞ –æ—Ç 30 000 000 ‚ÇΩ; –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞.",
        "offers":{"@type":"AggregateOffer","priceCurrency":"RUB","lowPrice":"30000000","highPrice":"48000000","availability":"https://schema.org/InStock"}
      },
      {
        "@type":"Product",
        "name":"–ü—Ä–æ–µ–∫—Ç 180",
        "category":"–î–æ–º",
        "brand":{"@type":"Brand","name":"Dom Veka"},
        "url":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/#p2",
        "image":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/house2.jpg",
        "description":"–û–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞, 135 –º¬≤: 3 —Å–ø–∞–ª—å–Ω–∏ (–≤–∫–ª—é—á–∞—è –º–∞—Å—Ç–µ—Ä-—Å–ø–∞–ª—å–Ω—é), –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–µ –æ–∫–Ω–∞, 2 —Å–∞–Ω—É–∑–ª–∞.",
        "offers":{"@type":"AggregateOffer","priceCurrency":"RUB","lowPrice":"20000000","highPrice":"28000000","availability":"https://schema.org/InStock"}
      },
      {
        "@type":"Product",
        "name":"–ü—Ä–æ–µ–∫—Ç 175",
        "category":"–î–æ–º",
        "brand":{"@type":"Brand","name":"Dom Veka"},
        "url":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/#p3",
        "image":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/house3.jpg",
        "description":"–û–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ. 200 –º¬≤: –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –º–∞—Å—Ç–µ—Ä-—Å–ø–∞–ª—å–Ω—è, –≤—Å–µ–≥–æ 3 —Å–ø–∞–ª—å–Ω–∏ –∏ 3 —Å–∞–Ω—É–∑–ª–∞.",
        "offers":{"@type":"AggregateOffer","priceCurrency":"RUB","lowPrice":"30000000","highPrice":"38000000","availability":"https://schema.org/InStock"}
      },
      {
        "@type":"Product",
        "name":"–ü—Ä–æ–µ–∫—Ç –ü–æ–ª–µ–≤–∞—è",
        "category":"–î–æ–º",
        "brand":{"@type":"Brand","name":"Dom Veka"},
        "url":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/#p4",
        "image":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/polevaya1.jpg",
        "description":"–û–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ, 150 –º¬≤. 3 —Å–ø–∞–ª—å–Ω–∏, –º–∞—Å—Ç–µ—Ä-—Å–ø–∞–ª—å–Ω—è, 2 —Å–∞–Ω—É–∑–ª–∞, –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è, —Ç–µ—Ä—Ä–∞—Å–∞. –°—Ç–æ–∏–º–æ—Å—Ç—å –±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏ –æ—Ç 15 –º–ª–Ω ‚ÇΩ; –±—é–¥–∂–µ—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞ (–¥–µ—Ä–µ–≤–Ω—è –î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏).",
        "offers":{"@type":"AggregateOffer","priceCurrency":"RUB","lowPrice":"15000000","availability":"https://schema.org/InStock"}
      },
      {
        "@type":"Product",
        "name":"–ü—Ä–æ–µ–∫—Ç 32",
        "category":"–î–æ–º",
        "brand":{"@type":"Brand","name":"Dom Veka"},
        "url":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/#p5",
        "image":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/p32_1.jpg",
        "description":"–î–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ, 250 –º¬≤. 7 —Å–ø–∞–ª–µ–Ω, –º–∞—Å—Ç–µ—Ä-—Å–ø–∞–ª—å–Ω—è, 3 —Å–∞–Ω—É–∑–ª–∞, –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è, —Ç–µ—Ä—Ä–∞—Å–∞.",
        "offers":{"@type":"AggregateOffer","priceCurrency":"RUB","lowPrice":"25000000","availability":"https://schema.org/InStock"}
      },
      {
        "@type":"Product",
        "name":"–ü—Ä–æ–µ–∫—Ç –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è",
        "category":"–î–æ–º",
        "brand":{"@type":"Brand","name":"Dom Veka"},
        "url":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/#p6",
        "image":"https://–≤–∞—à-—Å–∞–π—Ç.github.io/skandi1.jpg",
        "description":"–î–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ, 135 –º¬≤. 3 —Å–ø–∞–ª—å–Ω–∏ (–≤–∫–ª—é—á–∞—è –º–∞—Å—Ç–µ—Ä-—Å–ø–∞–ª—å–Ω—é), 2 —Å–∞–Ω—É–∑–ª–∞, –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è, —Ç–µ—Ä—Ä–∞—Å–∞. –î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏, 8 —Å–æ—Ç–æ–∫. –ë—é–¥–∂–µ—Ç –±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏ –æ—Ç 15 000 000 ‚ÇΩ; —Ü–µ–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞.",
        "offers":{"@type":"AggregateOffer","priceCurrency":"RUB","lowPrice":"15000000","availability":"https://schema.org/InStock"}
      }
    ]
  }
  </script>

  <style>
  /* ==========================
     –ü–∞—Å—Ç–µ–ª—å–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ + –∞–∫—Ü–µ–Ω—Ç—ã
     ========================== */
  :root{
    /* –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ ‚Äî ¬´–°–∫–∞–Ω–¥–∏-–Ω–µ–±–æ¬ª */
    --bg:#f3f4f6;
    --text:#2f3441;
    --muted:#6b7280;
    --card:#ffffff;
    --border:#e5e7eb;
    --accent:#9bb8d3;
    --accent-contrast:#0e2238;
    --focus:#b7d5ea;
    --shadow:rgba(20, 28, 40, .12);
    --shadow-soft:0 8px 24px rgba(20,28,40,.10);
    --hero-overlay:linear-gradient(180deg, rgba(20,28,40,.45), rgba(20,28,40,.24), rgba(20,28,40,0));
    --nav-bg:rgba(255,255,255,.82);
    --safe-bottom:env(safe-area-inset-bottom, 0px);
    --theme-color:#f3f4f6;
    /* –¢–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω —Å–µ–∫—Ü–∏–π */
    --section-bg: color-mix(in srgb, var(--card) 92%, var(--accent) 8%);
    --section-ring: color-mix(in srgb, var(--border) 70%, var(--accent) 30%);
  }
  @media (prefers-color-scheme: dark){
    :root{
      /* –¢—ë–º–Ω–∞—è –ø–∞—Å—Ç–µ–ª—å */
      --bg:#0e1524;
      --text:#e8edf4;
      --muted:#a7b1c2;
      --card:#121a2c;
      --border:#1f2a3b; /* fixed typo */
      --accent:#a7c7e7;
      --accent-contrast:#0b1422;
      --focus:#bcd8ee;
      --shadow:rgba(0,0,0,.35);
      --shadow-soft:0 10px 28px rgba(0,0,0,.28);
      --hero-overlay:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.32), rgba(0,0,0,.08));
      --nav-bg:rgba(18,26,44,.72);
      --theme-color:#0e1524;
      --section-bg: color-mix(in srgb, var(--card) 86%, var(--accent) 14%);
      --section-ring: color-mix(in srgb, var(--border) 60%, var(--accent) 40%);
    }
  }

  /* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π (—á–µ—Ä–µ–∑ data-theme) */
  [data-theme="light"]{
    --bg:#f3f4f6; --text:#2f3441; --muted:#6b7280; --card:#fff; --border:#e5e7eb;
    --accent:#9bb8d3; --accent-contrast:#0e2238; --shadow:rgba(20, 28, 40, .12);
    --focus:#b7d5ea; --hero-overlay:linear-gradient(180deg, rgba(20,28,40,.46), rgba(20,28,40,.24), rgba(20,28,40,0));
    --nav-bg:rgba(255,255,255,.86); --theme-color:#f3f4f6; --shadow-soft:0 8px 24px rgba(20,28,40,.10);
    --section-bg: color-mix(in srgb, var(--card) 92%, var(--accent) 8%);
    --section-ring: color-mix(in srgb, var(--border) 70%, var(--accent) 30%);
  }
  [data-theme="dark"]{
    --bg:#0e1524; --text:#e8edf4; --muted:#a7b1c2; --card:#121a2c; --border:#1f2a3b;
    --accent:#a7c7e7; --accent-contrast:#0b1422; --shadow:rgba(0,0,0,.35);
    --focus:#bcd8ee; --hero-overlay:linear-gradient(180deg, rgba(0,0,0,.58), rgba(0,0,0,.34), rgba(0,0,0,.08));
    --nav-bg:rgba(18,26,44,.74); --theme-color:#0e1524; --shadow-soft:0 10px 28px rgba(0,0,0,.28);
    --section-bg: color-mix(in srgb, var(--card) 86%, var(--accent) 14%);
    --section-ring: color-mix(in srgb, var(--border) 60%, var(--accent) 40%);
  }

  /* –ë–∞–∑–æ–≤–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ –∏ —Ñ–æ–Ω */
  html{scroll-behavior:smooth;}
  @media (prefers-reduced-motion: reduce){
    html{scroll-behavior:auto;}
    *{animation:none !important;transition:none !important;}
  }
  body{
    margin:0; font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
    background:var(--bg); color:var(--text); line-height:1.6; color-scheme:light dark;
  }

  /* –°—Å—ã–ª–∫–∏ –∏ —Ñ–æ–∫—É—Å */
  a{color:inherit; text-decoration:none;}
  a:hover{text-decoration:underline; text-underline-offset:2px;}
  a:focus-visible,button:focus-visible,input:focus-visible,select:focus-visible,textarea:focus-visible{
    outline:2px solid var(--focus); outline-offset:3px; border-radius:6px;
  }

  /* –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ */
  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}

  /* –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä: —É–ø—Ä–∞–≤–ª—è–µ–º transform –∏–∑ JS */
  .progress{
    position:fixed;top:0;left:0;height:3px;width:100%;
    background:linear-gradient(90deg, color-mix(in srgb, var(--accent) 90%, #10b981 10%), color-mix(in srgb, var(--accent) 80%, #22d3ee 20%), color-mix(in srgb, var(--accent) 70%, #10b981 30%));
    transform-origin:0 0; transform:scaleX(0); z-index:9999;
    transition: transform .15s ease-out;
  }

  /* –•–∏—Ä–æ */
  header.hero{
    position:relative;overflow:hidden;color:#fff;text-align:center;
    min-height:clamp(360px,60vh,720px);display:grid;place-items:center;
  }
  header.hero::before{content:"";position:absolute;inset:0;background:var(--hero-overlay);z-index:1;}
  .hero-media{position:absolute;inset:0;z-index:0;}
  .hero-media img{width:100%;height:100%;object-fit:cover;filter:saturate(1.02) contrast(1.02) brightness(0.9);transform:scale(1.03);}
  .hero-content{position:relative;z-index:2;padding:clamp(24px,4vw,48px) 20px;}
  h1{font-size:clamp(1.8rem,4.2vw,2.8rem);margin:0 0 8px;}
  .tagline{font-size:clamp(1rem,2.2vw,1.2rem);margin:0 0 16px;color:#f0f3f6;}
  header .theme-toggle{
    position:absolute;right:16px;top:16px;background:var(--accent);color:var(--accent-contrast);
    border:none;padding:10px 12px;border-radius:24px;cursor:pointer;font-weight:600;box-shadow:0 2px 10px var(--shadow);z-index:2;
  }
  header .theme-toggle[aria-pressed="true"]{filter:brightness(.98);}

  /* –õ–æ–≥–æ—Ç–∏–ø */
  .brand-logo{display:inline-flex;align-items:center;justify-content:center;padding:10px 12px;border-radius:18px;
    background: color-mix(in srgb, #000 10%, transparent);backdrop-filter:saturate(1.1) blur(2px);
    box-shadow:0 6px 20px rgba(0,0,0,.18);margin-bottom:10px;transform:translateY(0);
    transition:transform .25s ease, box-shadow .25s ease, background .25s ease;animation:logo-pop .55s cubic-bezier(.2,.7,.2,1) .12s both;
  }
  .brand-logo:hover{transform:translateY(-2px); box-shadow:0 10px 26px rgba(0,0,0,.22);}
  .logo-img{width:clamp(140px, 28vw, 240px);height:auto;display:block;border-radius:14px;
    filter:drop-shadow(0 8px 18px rgba(0,0,0,.20));transition:transform .25s ease, filter .25s ease;
  }
  .brand-logo:hover .logo-img{transform:scale(1.02); filter:saturate(1.04) drop-shadow(0 10px 22px rgba(0,0,0,.24));}

  /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
  nav{
    background:var(--nav-bg); border-bottom:1px solid var(--border);
    position:sticky; top:0; z-index:10; backdrop-filter:saturate(1.1) blur(10px);
    transition:transform .28s ease, background .2s ease;
  }
  nav.nav-hidden{transform:translateY(-110%);}
  nav ul{display:flex;justify-content:center;flex-wrap:wrap;list-style:none;margin:0;padding:10px;gap:10px 18px;}
  nav ul li a{font-weight:600;padding:6px 10px;border-radius:8px;}
  nav ul li a:hover{background:color-mix(in srgb, var(--card) 82%, var(--accent) 18%); text-decoration:none;}

  /* –°–µ–∫—Ü–∏–∏ ‚Äî ¬´–∫–∞—Ä—Ç–æ—á–∫–∏¬ª */
  section{
    padding:clamp(28px,4vw,48px) 20px; max-width:1100px; margin:16px auto;
    content-visibility:auto; contain-intrinsic-size:600px;
    background:var(--section-bg);
    border:1px solid var(--section-ring);
    border-radius:16px;
    box-shadow: var(--shadow-soft);
  }
  h2{
    font-size:clamp(1.3rem,3vw,1.8rem);margin-bottom:16px; position:relative;
    padding-bottom:6px;
  }
  h2::after{
    content:""; position:absolute; left:0; bottom:0; width:64px; height:4px;
    background: color-mix(in srgb, var(--accent) 80%, var(--border) 20%);
    border-radius:2px;
  }
  .subtle{color:var(--muted);}

  /* –ì–∞–ª–µ—Ä–µ—è –∏ –∫–∞—Ä—Ç–æ—á–∫–∏ */
  .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;}
  .gallery[role="list"] > article[role="listitem"]{list-style:none;}
  .gallery.compact .card-img-wrap img.card-img{max-height:150px;}
  @media (max-width:600px){ .gallery.compact .card-img-wrap img.card-img{max-height:130px;} }

  .card{
    background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;
    box-shadow:0 2px 10px var(--shadow);transform-style:preserve-3d;transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  }
  .card:hover{
    transform:translateY(-3px) perspective(800px) rotateX(1deg) rotateY(-1deg);
    box-shadow:0 10px 26px var(--shadow);
    border-color: color-mix(in srgb, var(--border) 60%, var(--accent) 40%);
  }

  /* –û–±—ë—Ä—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è + –∫–∞—Ä—É—Å–µ–ª—å */
  .card-img-wrap{
    position:relative;overflow:hidden;background:color-mix(in srgb, var(--card) 90%, var(--accent) 10%);
    touch-action: pan-y;
  }
  [data-theme="dark"] .card-img-wrap { background:#f4f1ee; }
  @media (prefers-color-scheme: dark){
    :root .card-img-wrap { background:#f4f1ee; }
  }
  .card-img{display:block;width:100%;height:auto;max-height:220px;object-fit:contain;object-position:center;background:transparent;transition:transform .25s ease;}
  .card:hover .card-img{ transform:scale(1.04); }
  .img-preview{display:block;cursor:zoom-in;}

  /* –†—É—á–Ω–æ–µ –ª–∏—Å—Ç–∞–Ω–∏–µ –∫–∞—Ä—É—Å–µ–ª–∏ */
  .card-nav-btn{
    position:absolute; top:50%; transform:translateY(-50%);
    background:rgba(0,0,0,.38); color:#fff; border:none; width:34px; height:34px; border-radius:999px;
    display:grid; place-items:center; cursor:pointer; backdrop-filter:blur(4px);
    box-shadow:0 4px 10px rgba(0,0,0,.22); padding:0;
  }
  .card-nav-btn:hover{ background:rgba(0,0,0,.58); }
  .card-prev{ left:8px; }
  .card-next{ right:8px; }
  .card-idx{
    position:absolute; bottom:8px; right:8px;
    background:rgba(0,0,0,.38); color:#fff; font-size:.85em; padding:2px 8px; border-radius:10px;
  }

  /* –°–µ—Ç–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
  .card-body{padding:16px;display:grid;gap:8px;}
  .gallery.compact .card-body{padding:12px;gap:6px;}
  .card-body .meta{display:flex;flex-wrap:wrap;gap:8px 12px;color:var(--muted);font-size:.95em;}
  .dim{opacity:.32; filter:saturate(.85);}

  /* –ö–Ω–æ–ø–∫–∏ –∏ —Ñ–æ—Ä–º—ã */
  .btn{
    background:var(--accent);color:var(--accent-contrast);border:none;
    padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600;min-width:120px;text-align:center;
    box-shadow:0 2px 8px var(--shadow); transition:transform .08s ease, box-shadow .18s ease, filter .18s ease;
  }
  .btn:hover{transform:translateY(-1px); box-shadow:0 6px 16px var(--shadow);}
  .btn.secondary{
    background:transparent;color:var(--text);border:1px solid var(--section-ring);
  }
  .btn.secondary:hover{
    background:color-mix(in srgb, var(--card) 86%, var(--accent) 14%);
    border-color: color-mix(in srgb, var(--border) 40%, var(--accent) 60%);
  }
  .btn:disabled{opacity:.6;cursor:not-allowed;}
  .toolbar{display:flex; gap:8px; flex-wrap:wrap; margin:6px 0 12px;}

  /* –§–æ—Ä–º—ã */
  input,textarea,select{
    width:100%;padding:12px;margin-top:10px;margin-bottom:14px;border:1px solid var(--border);border-radius:8px;
    font-family:inherit;font-size:1em;background:var(--card);color:var(--text); box-shadow:0 1px 0 rgba(0,0,0,.02) inset;
  }
  label{font-weight:600;}
  input[type="submit"],.submit{background:var(--accent);color:var(--accent-contrast);border:none;cursor:pointer;transition:transform .05s ease;}
  input[type="submit"]:hover,.submit:hover{transform:translateY(-1px);}
  input:invalid,textarea:invalid,select:invalid{border-color:#ef4444;}
  input:valid,textarea:valid,select:valid{border-color:color-mix(in srgb, var(--border) 60%, var(--focus) 40%);}
  #price,#mortgageResult,#keyRateStatus{font-weight:bold;}

  /* –ü–æ—è–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π (JS –¥–æ–±–∞–≤–ª—è–µ—Ç .anim-shown) */
  .fade-in{opacity:0;transform:translateY(20px);}
  .fade-in.anim-shown{animation:fadeIn .8s ease-out forwards;}
  @keyframes fadeIn{to{opacity:1;transform:translateY(0);}}

  /* –≠—Ñ—Ñ–µ–∫—Ç—ã */
  .shake{animation:shake .28s ease;}
  @keyframes shake{10%,90%{transform:translateX(-1px);}20%,80%{transform:translateX(2px);}30%,50%,70%{transform:translateX(-4px);}40%,60%{transform:translateX(4px);}}

  /* –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è */
  .compare-table{width:100%;border-collapse:collapse;overflow:hidden;border-radius:12px;border:1px solid var(--border);}
  .compare-table th,.compare-table td{border-bottom:1px solid var(--border);padding:12px;text-align:left;vertical-align:top;background:var(--card);}
  .compare-table th{background:color-mix(in srgb, var(--card) 92%, var(--accent) 8%);font-weight:700;}

  /* Toast */
  .toast{
    position:fixed;bottom:calc(20px + var(--safe-bottom));right:20px;background:var(--accent);color:var(--accent-contrast);
    padding:10px 14px;border-radius:10px;box-shadow:0 4px 16px var(--shadow);opacity:0;transform:translateY(10px);transition:all .25s ease;z-index:1000;
  }
  .toast.show{opacity:1;transform:translateY(0);}

  /* Back-to-top: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ .show (JS) */
  #backToTop{
    position:fixed;right:18px;bottom:calc(84px + var(--safe-bottom));background:var(--accent);color:var(--accent-contrast);
    border:none;padding:10px 12px;border-radius:999px;cursor:pointer;box-shadow:0 2px 10px var(--shadow);opacity:0;transform:translateY(10px);transition:all .2s ease;z-index:1000;
  }
  #backToTop.show{opacity:1;transform:translateY(0);}

  /* Sticky CTA */
  .sticky-cta{
    position:sticky;bottom:0;z-index:9;background:color-mix(in srgb, var(--bg) 82%, var(--accent) 18%);
    border-top:1px solid var(--section-ring);padding:10px 16px calc(10px + var(--safe-bottom));
    display:flex;justify-content:center;gap:12px;backdrop-filter:saturate(1.1) blur(6px);
  }
  .sticky-cta .btn{ background:var(--accent); color:var(--accent-contrast); }

  /* –§—É—Ç–µ—Ä */
  footer{padding:20px;text-align:center;color:var(--muted);}

  /* –ö–∞—Ä—Ç–∞ */
  .map-embed{width:100%;height:380px;border:0;border-radius:12px;}

  /* –ú–∏–Ω–∏-–¥–∏–∞–≥—Ä–∞–º–º–∞ */
  .chart-card{background:var(--card); border:1px solid var(--border); border-radius:12px; padding:12px;}
  .chart-legend{display:flex; gap:12px; flex-wrap:wrap; margin-top:8px; font-size:.95em;}
  .chart-legend span{display:inline-flex; align-items:center; gap:6px;}
  .chart-legend i{display:inline-block; width:12px; height:12px; border-radius:3px;}

  /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
  #modalImg{
    position:fixed; inset:0; z-index:9999; display:grid; place-items:center;
    background:rgba(0,0,0,.85); padding:2vh; opacity:0; visibility:hidden;
    transition:opacity .2s ease, visibility .2s ease;
  }
  #modalImg[aria-hidden="false"]{ opacity:1; visibility:visible; }
  #modalImg__img{ max-width:90vw; max-height:90vh; border-radius:12px; box-shadow:0 10px 40px rgba(0,0,0,.5); background:#111;}
  [data-theme="dark"] #modalImg__img{ background:#f4f1ee; }
  @media (prefers-color-scheme: dark){
    :root #modalImg__img{ background:#f4f1ee; }
  }
  #modalImg__close{
    position:absolute; top:14px; right:14px; background:rgba(255,255,255,.12);
    color:#fff; border:0; border-radius:10px; padding:8px 10px; cursor:pointer; backdrop-filter:blur(4px);
  }
  /* –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –º–æ–¥–∞–ª–∫–µ */
  #modalImg__prev,#modalImg__next{
    position:absolute; top:50%; transform:translateY(-50%);
    background:rgba(255,255,255,.14); color:#fff; border:0; width:40px; height:40px;
    border-radius:999px; display:grid; place-items:center; cursor:pointer; backdrop-filter:blur(4px);
    box-shadow:0 6px 20px rgba(0,0,0,.35);
  }
  #modalImg__prev{ left:16px; }
  #modalImg__next{ right:16px; }
  #modalImg__prev:hover,#modalImg__next:hover{ background:rgba(255,255,255,.22); }
  #modalImg__idx{
    position:absolute; bottom:16px; right:16px; background:rgba(255,255,255,.14); color:#fff;
    font-size:.95em; padding:4px 10px; border-radius:10px; backdrop-filter:blur(4px);
  }

  /* Safari checkbox alignment fix for "–°—Ä–∞–≤–Ω–∏—Ç—å" */
  .compareCheck{
    width:16px; height:16px; margin:0; flex:0 0 auto; vertical-align:middle;
    accent-color: currentColor;
  }
  @supports (-webkit-touch-callout: none){
    .compareCheck{ transform: translateY(0.5px); }
  }

  /* –ü–µ—á–∞—Ç—å */
  @media print{
    header,nav,#toast,#backToTop,.theme-toggle,.sticky-cta{display:none !important;}
    section{padding:0; background:#fff; border:0; box-shadow:none;}
    a::after{content:" (" attr(href) ")";font-size:.9em;color:#555;}
  }

  /* ====== –†–∞–∑–¥–µ–ª ¬´–û—Ç–¥–µ–ª–∫–∞¬ª ====== */
  .finishes-tabs .btn[aria-current="true"]{
    background:color-mix(in srgb, var(--accent) 82%, var(--card) 18%);
    color:var(--accent-contrast);
    border-color:transparent;
  }
  .finish-view{display:block;}
  .finish-view[hidden]{display:none;}
  .fin-carousel{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:14px;
    overflow:hidden;
    box-shadow:0 2px 10px var(--shadow);
  }
  .fin-carousel__wrap{
    position:relative;
    overflow:hidden;
    background:color-mix(in srgb, var(--card) 90%, var(--accent) 10%);
    min-height:220px;
    display:block;
    touch-action: pan-y;
  }
  [data-theme="dark"] .fin-carousel__wrap{ background:#f4f1ee; }
  @media (prefers-color-scheme: dark){ :root .fin-carousel__wrap{ background:#f4f1ee; } }
  .fin-carousel__img{
    display:block;width:100%;height:auto;max-height:420px;object-fit:contain;object-position:center;
    background:transparent;transition:transform .25s ease; cursor: zoom-in;
  }
  .fin-carousel__wrap:hover .fin-carousel__img{ transform:scale(1.02); }
  .fin-idx{
    position:absolute; bottom:8px; right:8px;
    background:rgba(0,0,0,.38); color:#fff; font-size:.9em; padding:2px 8px; border-radius:10px;
  }
  .fin-prev{ left:10px; }
  .fin-next{ right:10px; }

  /* –£–ª—É—á—à–µ–Ω–∏—è ¬´–û—Ç–¥–µ–ª–∫–∏¬ª: –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∏ —à–∏—Ä–∏–Ω–∞ (–ù–ï –ª–æ–º–∞—é—Ç —Å—Ç–∞—Ä—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª) */
  :root{
    --fin-max-w: clamp(320px, 92vw, 980px);
    --fin-ratio-mobile: 1 / 1;
    --fin-ratio-desktop: 4 / 3;
  }
  #finishes .fin-carousel{
    max-width: var(--fin-max-w);
    margin-inline: auto;
  }
  #finishes .fin-carousel__wrap{
    /* –¶–µ–Ω—Ç—Ä—É–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –∑–∞–¥–∞—ë–º –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—É—é –≤—ã—Å–æ—Ç—É —á–µ—Ä–µ–∑ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ */
    display: grid;
    place-items: center;
    aspect-ratio: var(--fin-ratio-mobile);
    /* min-height –æ—Å—Ç–∞–≤–ª–µ–Ω –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
  }
  @media (min-width: 720px){
    #finishes .fin-carousel__wrap{
      aspect-ratio: var(--fin-ratio-desktop);
    }
  }
  #finishes .fin-carousel__img{
    /* –ü–µ—Ä–µ–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã, —á—Ç–æ–±—ã –∫–∞—Ä—Ç–∏–Ω–∫–∞ –∑–∞–ø–æ–ª–Ω—è–ª–∞ ¬´—Ä–∞–º–∫—É¬ª –∞–∫–∫—É—Ä–∞—Ç–Ω–æ */
    width: 100%;
    height: 100%;
    max-height: none;
    object-fit: contain;
  }
  /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞ –Ω–æ–≤–æ–π ¬´—Ä–∞–º–∫–µ¬ª */
  #finishes .fin-prev, #finishes .fin-next{
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

 /* –ú–æ–±–∏–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ UX */
.card-img-wrap,
.fin-carousel__wrap {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

@media (hover: none) {
  /* –£–±–∏—Ä–∞–µ–º —Ç—è–∂–µ–ª—ã–µ hover-—ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  .card:hover {
    transform: none;
    box-shadow: 0 2px 10px var(--shadow);
  }
  .card:hover .card-img {
    transform: none;
  }
  #finishes .fin-carousel__wrap:hover .fin-carousel__img {
    transform: none;
  }
}

/* –ú–æ–±–∏–ª—å–Ω–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ –∏ —Å–µ—Ç–∫–∞ */
@media (max-width: 480px) {
  header.hero {
    min-height: clamp(300px, 52vh, 560px);
  }
  section {
    padding: 20px 16px;
  }
  nav ul {
    gap: 8px 12px;
  }
  nav ul li a {
    padding: 6px 8px;
  }
  .gallery {
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 18px;
  }
  .card-img {
    max-height: 180px;
  }
  .gallery.compact .card-img-wrap img.card-img {
    max-height: 120px;
  }
  .btn {
    min-width: unset;
    padding: 10px 12px;
  }
  .chart-card {
    padding: 10px;
  }
  .sticky-cta {
    gap: 8px;
  }
  #backToTop {
    bottom: calc(76px + var(--safe-bottom));
  }
}

/* –ß—É—Ç—å –º—è–≥—á–µ —Ç–µ–Ω–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫ */
@media (max-width: 480px) {
      :root { --shadow-soft: 0 6px 18px rgba(0,0,0,.16); }
    }
  </style>
</head>
<body>
  <a href="#about" class="sr-only">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a>
  <div class="progress" id="progress"></div>

  <header class="hero">
    <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É" aria-pressed="false" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">üåó –¢–µ–º–∞</button>
    <div class="hero-media" aria-hidden="true">
      <img src="house1.jpg" alt="" width="1600" height="1000" loading="eager" fetchpriority="high" decoding="async" />
    </div>
    <div class="hero-content">
      <div class="brand-logo">
        <img src="logo.png" class="logo-img" alt="Dom Veka" width="220" height="80" decoding="async" />
      </div>
      <h1>Dom Veka</h1>
      <p class="tagline">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–º–∞ –≤ –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ</p>
      <div class="hero-cta">
        <a href="#gallery" class="btn">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–µ–∫—Ç—ã</a>
        <a href="#contact" class="btn">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é</a>
      </div>
    </div>
  </header>

  <nav aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è" id="mainNav">
    <ul>
      <li><a href="#about">–û –∫–æ–º–ø–∞–Ω–∏–∏</a></li>
      <li><a href="#gallery">–ü—Ä–æ–µ–∫—Ç—ã</a></li>
      <li><a href="#finishes">–û—Ç–¥–µ–ª–∫–∞</a></li>
      <li><a href="#compare">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ</a></li>
      <li><a href="#calculator">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a></li>
      <li><a href="#mortgage">–ò–ø–æ—Ç–µ–∫–∞</a></li>
      <li><a href="#qa">–†–∞–π–æ–Ω—ã</a></li>
      <li><a href="#contact">–°–≤—è–∑—å</a></li>
    </ul>
  </nav>

  <section id="about" class="fade-in">
    <h2>–û –∫–æ–º–ø–∞–Ω–∏–∏</h2>
    <p>Dom Veka ‚Äî –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∏—Ö—Å—è –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ –¥–æ–º–æ–≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –æ—Ç 15 –¥–æ 50 –º–ª–Ω ‚ÇΩ. –ú—ã —Å–æ–∑–¥–∞—ë–º –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–µ, —ç–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∏ —Å—Ç–∏–ª—å–Ω—ã–µ –¥–æ–º–∞, —É—á–∏—Ç—ã–≤–∞—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞. –†–∞–±–æ—Ç–∞–µ–º –≤ –õ–û –∏ –°–ü–±, —Å–æ–±–ª—é–¥–∞–µ–º —Å—Ä–æ–∫–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –∫–∞—á–µ—Å—Ç–≤–æ.</p>
    <p class="subtle">–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–∏ ‚Ä¢ –§–∏–∫—Å–∏—Ä—É–µ–º —Å—Ä–æ–∫–∏ ‚Ä¢ –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Å–º–µ—Ç–∞ ‚Ä¢ –ì–∞—Ä–∞–Ω—Ç–∏—è –¥–æ 5 –ª–µ—Ç</p>
  </section>

  <section id="gallery" class="fade-in" aria-labelledby="projects-heading">
    <h2 id="projects-heading">–ì–∞–ª–µ—Ä–µ—è –ø—Ä–æ–µ–∫—Ç–æ–≤</h2>

    <div class="toolbar">
      <button class="btn" id="filterBrick" type="button">–ö–∏—Ä–ø–∏—á–Ω—ã–µ –¥–æ–º–∞</button>
      <button class="btn" id="filterAac" type="button">–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–µ –¥–æ–º–∞</button>
      <button class="btn secondary" id="resetFilter" type="button">–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä</button>
      <button class="btn secondary" id="viewComfort" type="button" title="–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–∏–¥">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π</button>
      <button class="btn secondary" id="viewCompact" type="button" title="–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥">–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π</button>
    </div>

    <div class="subtle" style="margin-bottom:12px;">–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ 2 –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è</div>

    <div class="gallery" id="projectsGrid" role="list">
      <!-- –ü—Ä–æ–µ–∫—Ç 1 -->
      <article class="card" data-id="p1" role="listitem" id="p1" data-images="house1.jpg,house1_2.jpg,house1_3.jpg,house1_4.jpg">
        <div class="card-img-wrap" tabindex="0" aria-label="–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –ü—Ä–æ–µ–∫—Ç 46">
          <a href="house1.jpg" class="img-preview">
            <img src="house1.jpg" alt="–ü—Ä–æ–µ–∫—Ç ¬´46¬ª ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –∫–∏—Ä–ø–∏—á–Ω—ã–π –¥–æ–º" width="1200" height="800" loading="lazy" decoding="async" class="card-img" />
          </a>
          <button class="card-nav-btn card-prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
          <button class="card-nav-btn card-next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
          <div class="card-idx" aria-hidden="true">1/4</div>
        </div>
        <div class="card-body">
          <h3 style="margin:0;">–ü—Ä–æ–µ–∫—Ç 46</h3>
          <div class="meta">
            <span>–ö–∏—Ä–ø–∏—á–Ω—ã–π</span><span>180 –º¬≤</span><span>4 —Å–ø–∞–ª—å–Ω–∏</span>
          </div>
          <div class="subtle">–û—Ç <strong data-price="p1">‚Äî</strong> <span class="dim">(–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞)</span></div>
          <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:6px;">
            <label class="btn secondary" style="display:flex; align-items:center; gap:8px; cursor:pointer;">
              <input type="checkbox" class="compareCheck" data-id="p1" aria-label="–°—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç 46" /> –°—Ä–∞–≤–Ω–∏—Ç—å
            </label>
            <button class="btn" data-gen="p1" aria-controls="desc-p1">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ</button>
            <button class="btn secondary" data-share="p1" aria-label="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–µ–∫—Ç–æ–º 46" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          </div>
          <p class="subtle" id="desc-p1" style="margin:8px 0 0;" aria-live="polite">
            –ü—Ä–æ–µ–∫—Ç 46 ‚Äî –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–º –ø–ª–æ—â–∞–¥—å—é 180 –º¬≤. 4 —Å–ø–∞–ª—å–Ω–∏, –≤–∫–ª—é—á–∞—è –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—é; –∫—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É; –≤—Å–µ–≥–æ 3 —Å–∞–Ω—É–∑–ª–∞. –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º—Ñ–æ—Ä—Ç –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ. –°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç 30 000 000 ‚ÇΩ; –∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞.
          </p>
        </div>
      </article>

      <!-- –ü—Ä–æ–µ–∫—Ç 2 -->
      <article class="card" data-id="p2" role="listitem" id="p2" data-images="house2.jpg,house2_2.jpg,house2_3.jpg,house2_4.jpg">
        <div class="card-img-wrap" tabindex="0" aria-label="–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –ü—Ä–æ–µ–∫—Ç 180">
          <a href="house2.jpg" class="img-preview">
            <img src="house2.jpg" alt="–ü—Ä–æ–µ–∫—Ç ¬´180¬ª ‚Äî –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≥–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π –¥–æ–º" width="1200" height="800" loading="lazy" decoding="async" class="card-img" />
          </a>
          <button class="card-nav-btn card-prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
          <button class="card-nav-btn card-next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
          <div class="card-idx" aria-hidden="true">1/4</div>
        </div>
        <div class="card-body">
          <h3 style="margin:0;">–ü—Ä–æ–µ–∫—Ç 180</h3>
          <div class="meta">
            <span>–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π</span><span>135 –º¬≤</span><span>3 —Å–ø–∞–ª—å–Ω–∏</span>
          </div>
          <div class="subtle">–û—Ç <strong data-price="p2">‚Äî</strong></div>
          <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:6px;">
            <label class="btn secondary" style="display:flex; align-items:center; gap:8px; cursor:pointer;">
              <input type="checkbox" class="compareCheck" data-id="p2" aria-label="–°—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç 180" /> –°—Ä–∞–≤–Ω–∏—Ç—å
            </label>
            <button class="btn" data-gen="p2" aria-controls="desc-p2">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ</button>
            <button class="btn secondary" data-share="p2" aria-label="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–µ–∫—Ç–æ–º 180" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          </div>
          <p class="subtle" id="desc-p2" style="margin:8px 0 0;" aria-live="polite">
            –ü—Ä–æ–µ–∫—Ç 180 ‚Äî –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –ø–ª–æ—â–∞–¥—å—é 135 –º¬≤. 3 —Å–ø–∞–ª—å–Ω–∏ (–≤–∫–ª—é—á–∞—è –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—é), –∫—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–µ –æ–∫–Ω–∞ –∏ 2 —Å–∞–Ω—É–∑–ª–∞. –õ–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å –∏ –º–∞–∫—Å–∏–º—É–º –¥–Ω–µ–≤–Ω–æ–≥–æ —Å–≤–µ—Ç–∞.
          </p>
        </div>
      </article>

      <!-- –ü—Ä–æ–µ–∫—Ç 3 -->
      <article class="card" data-id="p3" role="listitem" id="p3" data-images="house3.jpg,house3_2.jpg,house3_3.jpg,house3_4.jpg,house3_5.jpg">
        <div class="card-img-wrap" tabindex="0" aria-label="–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –ü—Ä–æ–µ–∫—Ç 175">
          <a href="house3.jpg" class="img-preview">
            <img src="house3.jpg" alt="–ü—Ä–æ–µ–∫—Ç ¬´175¬ª ‚Äî –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞" width="1200" height="800" loading="lazy" decoding="async" class="card-img" />
          </a>
          <button class="card-nav-btn card-prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
          <button class="card-nav-btn card-next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
          <div class="card-idx" aria-hidden="true">1/5</div>
        </div>
        <div class="card-body">
          <h3 style="margin:0;">–ü—Ä–æ–µ–∫—Ç 175</h3>
          <div class="meta">
            <span>–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π</span><span>200 –º¬≤</span><span>3 —Å–ø–∞–ª—å–Ω–∏</span>
          </div>
          <div class="subtle">–û—Ç <strong data-price="p3">‚Äî</strong> <span class="dim">(–±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏)</span></div>
          <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:6px;">
            <label class="btn secondary" style="display:flex; align-items:center; gap:8px; cursor:pointer;">
              <input type="checkbox" class="compareCheck" data-id="p3" aria-label="–°—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç 175" /> –°—Ä–∞–≤–Ω–∏—Ç—å
            </label>
            <button class="btn" data-gen="p3" aria-controls="desc-p3">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ</button>
            <button class="btn secondary" data-share="p3" aria-label="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–µ–∫—Ç–æ–º 175" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          </div>
          <p class="subtle" id="desc-p3" style="margin:8px 0 0;" aria-live="polite">
            175 ‚Äî –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ. 200 –º¬≤ –≥—Ä–∞–º–æ—Ç–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞: –ø—Ä–æ—Å—Ç–æ—Ä–Ω–∞—è –∫—É—Ö–Ω—è–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –º–∞—Å—Ç–µ—Ä—Å–ø–∞–ª—å–Ω—è —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–∞–Ω—É–∑–ª–æ–º –∏ –º–µ—Å—Ç–æ–º –ø–æ–¥ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω—É—é, –µ—â—ë –¥–≤–µ —Å–ø–∞–ª—å–Ω–∏ –¥–ª—è —Å–µ–º—å–∏ –∏–ª–∏ –≥–æ—Å—Ç–µ–π. –í—Å–µ–≥–æ 3 —Å–∞–Ω—É–∑–ª–∞, —á–∏—Å—Ç—ã–µ –ª–∏–Ω–∏–∏ —Ñ–∞—Å–∞–¥–æ–≤ –∏ –±–æ–ª—å—à–∏–µ –æ–∫–Ω–∞ ‚Äî –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è –∂–∏–∑–Ω—å –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —Å–≤–µ—Ç –∏ –≤–æ–∑–¥—É—Ö.
          </p>
        </div>
      </article>

      <!-- –ü—Ä–æ–µ–∫—Ç 4 -->
      <article class="card" data-id="p4" role="listitem" id="p4" data-images="polevaya1.jpg,polevaya2.jpg,polevaya3.jpg,polevaya4.jpg,polevaya5.jpg">
        <div class="card-img-wrap" tabindex="0" aria-label="–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –ü—Ä–æ–µ–∫—Ç –ü–æ–ª–µ–≤–∞—è">
          <a href="polevaya1.jpg" class="img-preview">
            <img src="polevaya1.jpg" alt="–ü—Ä–æ–µ–∫—Ç ¬´–ü–æ–ª–µ–≤–∞—è¬ª ‚Äî –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞" width="1200" height="800" loading="lazy" decoding="async" class="card-img" />
          </a>
          <button class="card-nav-btn card-prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
          <button class="card-nav-btn card-next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
          <div class="card-idx" aria-hidden="true">1/5</div>
        </div>
        <div class="card-body">
          <h3 style="margin:0;">–ü—Ä–æ–µ–∫—Ç –ü–æ–ª–µ–≤–∞—è</h3>
          <div class="meta">
            <span>–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π</span><span>150 –º¬≤</span><span>3 —Å–ø–∞–ª—å–Ω–∏</span>
          </div>
          <div class="subtle">–û—Ç <strong data-price="p4">‚Äî</strong> <span class="dim">(–±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏; –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞, –î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏)</span></div>
          <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:6px;">
            <label class="btn secondary" style="display:flex; align-items:center; gap:8px; cursor:pointer;">
              <input type="checkbox" class="compareCheck" data-id="p4" aria-label="–°—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –ü–æ–ª–µ–≤–∞—è" /> –°—Ä–∞–≤–Ω–∏—Ç—å
            </label>
            <button class="btn" data-gen="p4" aria-controls="desc-p4">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ</button>
            <button class="btn secondary" data-share="p4" aria-label="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–µ–∫—Ç–æ–º –ü–æ–ª–µ–≤–∞—è" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          </div>
          <p class="subtle" id="desc-p4" style="margin:8px 0 0;" aria-live="polite">
            –ü–æ–ª–µ–≤–∞—è ‚Äî –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ, –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã–π –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∂–∏–∑–Ω–∏ –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ. 150 –º¬≤ –≤–∫–ª—é—á–∞—é—Ç –ø—Ä–æ—Å—Ç–æ—Ä–Ω—É—é –∫—É—Ö–Ω—é‚Äë–≥–æ—Å—Ç–∏–Ω—É—é —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—é —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–∞–Ω—É–∑–ª–æ–º, –µ—â—ë –¥–≤–µ —Å–ø–∞–ª—å–Ω–∏ –∏ –≤—Ç–æ—Ä–æ–π —Å–∞–Ω—É–∑–µ–ª. –ß–∏—Å—Ç—ã–µ –ª–∏–Ω–∏–∏, –±–æ–ª—å—à–∏–µ –æ–∫–Ω–∞ –∏ –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –¥–Ω–µ–≤–Ω–æ–π —Å–≤–µ—Ç. –ë—é–¥–∂–µ—Ç –±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏ ‚Äî –æ—Ç 15 000 000 ‚ÇΩ; –∏—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞ (–¥–µ—Ä–µ–≤–Ω—è –î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏).
          </p>
        </div>
      </article>

      <!-- –ü—Ä–æ–µ–∫—Ç 5 -->
      <article class="card" data-id="p5" role="listitem" id="p5" data-images="p32_1.jpg,p32_2.jpg,p32_3.jpg,p32_4.jpg,p32_5.jpg,p32_6.jpg">
        <div class="card-img-wrap" tabindex="0" aria-label="–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –ü—Ä–æ–µ–∫—Ç 32">
          <a href="p32_1.jpg" class="img-preview">
            <img src="p32_1.jpg" alt="–ü—Ä–æ–µ–∫—Ç ¬´32¬ª ‚Äî –¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞" width="1200" height="800" loading="lazy" decoding="async" class="card-img" />
          </a>
          <button class="card-nav-btn card-prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
          <button class="card-nav-btn card-next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
          <div class="card-idx" aria-hidden="true">1/6</div>
        </div>
        <div class="card-body">
          <h3 style="margin:0;">–ü—Ä–æ–µ–∫—Ç 32</h3>
          <div class="meta">
            <span>–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π</span><span>250 –º¬≤</span><span>7 —Å–ø–∞–ª–µ–Ω</span>
          </div>
          <div class="subtle">–û—Ç <strong data-price="p5">‚Äî</strong> <span class="dim">(–±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏; –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞, –î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏, 6 —Å–æ—Ç–æ–∫)</span></div>
          <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:6px;">
            <label class="btn secondary" style="display:flex; align-items:center; gap:8px; cursor:pointer;">
              <input type="checkbox" class="compareCheck" data-id="p5" aria-label="–°—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç 32" /> –°—Ä–∞–≤–Ω–∏—Ç—å
            </label>
            <button class="btn" data-gen="p5" aria-controls="desc-p5">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ</button>
            <button class="btn secondary" data-share="p5" aria-label="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–µ–∫—Ç–æ–º 32" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          </div>
          <p class="subtle" id="desc-p5" style="margin:8px 0 0;" aria-live="polite">
            32 ‚Äî –¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ —Å –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–æ–π –¥–ª—è –±–æ–ª—å—à–æ–π —Å–µ–º—å–∏. 250 –º¬≤ –≤–∫–ª—é—á–∞—é—Ç –ø—Ä–æ—Å—Ç–æ—Ä–Ω—É—é –∫—É—Ö–Ω—é‚Äë–≥–æ—Å—Ç–∏–Ω—É—é —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, —Å–µ–º—å —Å–ø–∞–ª–µ–Ω, —Å—Ä–µ–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–∞—è –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—è —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–∞–Ω—É–∑–ª–æ–º, –∏ –µ—â—ë –¥–≤–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö —Å–∞–Ω—É–∑–ª–∞ ‚Äî –≤—Å–µ–≥–æ —Ç—Ä–∏. –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–µ –æ–∫–Ω–∞ –∏ –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–≤–µ—Ç —Å–æ–∑–¥–∞—é—Ç –æ—â—É—â–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ—Ä–∞. –£—á–∞—Å—Ç–æ–∫ –≤ –¥–µ—Ä–µ–≤–Ω–µ –î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏, 6 —Å–æ—Ç–æ–∫: –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –º–µ—Å—Ç–æ –¥–ª—è —Å–∞–¥–∞ –∏–ª–∏ –∑–æ–Ω—ã –±–∞—Ä–±–µ–∫—é. –ë—é–¥–∂–µ—Ç –±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏ ‚Äî –æ—Ç 25 000 000 ‚ÇΩ; –∏—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —É—á–∞—Å—Ç–∫–∞ –∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.
          </p>
        </div>
      </article>

      <!-- –ü—Ä–æ–µ–∫—Ç 6 -->
      <article class="card" data-id="p6" role="listitem" id="p6" data-images="skandi1.jpg,skandi2.jpg,skandi3.jpg,skandi4.jpg">
        <div class="card-img-wrap" tabindex="0" aria-label="–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –ü—Ä–æ–µ–∫—Ç –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è">
          <a href="skandi1.jpg" class="img-preview">
            <img src="skandi1.jpg" alt="–ü—Ä–æ–µ–∫—Ç ¬´–°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è¬ª ‚Äî –¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞" width="1200" height="800" loading="lazy" decoding="async" class="card-img" />
          </a>
          <button class="card-nav-btn card-prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
          <button class="card-nav-btn card-next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
          <div class="card-idx" aria-hidden="true">1/4</div>
        </div>
        <div class="card-body">
          <h3 style="margin:0;">–ü—Ä–æ–µ–∫—Ç –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è</h3>
          <div class="meta">
            <span>–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π</span><span>135 –º¬≤</span><span>3 —Å–ø–∞–ª—å–Ω–∏</span>
          </div>
          <div class="subtle">–û—Ç <strong data-price="p6">‚Äî</strong> <span class="dim">(–±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏; –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞, –î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏, 8 —Å–æ—Ç–æ–∫)</span></div>
          <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:6px;">
            <label class="btn secondary" style="display:flex; align-items:center; gap:8px; cursor:pointer;">
              <input type="checkbox" class="compareCheck" data-id="p6" aria-label="–°—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è" /> –°—Ä–∞–≤–Ω–∏—Ç—å
            </label>
            <button class="btn" data-gen="p6" aria-controls="desc-p6">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ</button>
            <button class="btn secondary" data-share="p6" aria-label="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–µ–∫—Ç–æ–º –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          </div>
          <p class="subtle" id="desc-p6" style="margin:8px 0 0;" aria-live="polite">
            –ü—Ä–æ–µ–∫—Ç ¬´–°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è¬ª ‚Äî –¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –≤ –ª–∞–∫–æ–Ω–∏—á–Ω–æ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ. 135 –º¬≤ –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞: –∫—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—è –∏ –µ—â—ë –¥–≤–µ —Å–ø–∞–ª—å–Ω–∏; –≤—Å–µ–≥–æ –¥–≤–∞ —Å–∞–Ω—É–∑–ª–∞. –ë–æ–ª—å—à–∏–µ –æ–∫–Ω–∞, —á–∏—Å—Ç—ã–µ –ª–∏–Ω–∏–∏, –º–∞–∫—Å–∏–º—É–º –¥–Ω–µ–≤–Ω–æ–≥–æ —Å–≤–µ—Ç–∞. –î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏, —É—á–∞—Å—Ç–æ–∫ 8 —Å–æ—Ç–æ–∫. –°—Ç–æ–∏–º–æ—Å—Ç—å –±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏ ‚Äî –æ—Ç 15 000 000 ‚ÇΩ; –∏—Ç–æ–≥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —É—á–∞—Å—Ç–∫–∞ –∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.
          </p>
        </div>
      </article>
    </div>
  </section>

  <!-- –ù–û–í–´–ô –†–ê–ó–î–ï–õ: –û–¢–î–ï–õ–ö–ê -->
  <section id="finishes" class="fade-in" aria-labelledby="finishes-heading">
    <h2 id="finishes-heading">–û—Ç–¥–µ–ª–∫–∞</h2>
    <p>–û—Ç–¥–µ–ª–∫–∞ ‚Äî —ç—Ç–æ —è–∑—ã–∫ –≤–∞—à–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞. –£ –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ–π —Ä–∏—Ç–º, –≤–∫—É—Å –∏ –æ—â—É—â–µ–Ω–∏–µ —É—é—Ç–∞. –ú—ã –Ω–µ –Ω–∞–≤—è–∑—ã–≤–∞–µ–º –≥–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã, –∞ –ø–æ–º–æ–≥–∞–µ–º —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏ –≤–æ–ø–ª–æ—Ç–∏—Ç—å –∏—Ö –≤ —Ç–æ—á–Ω—ã—Ö –¥–µ—Ç–∞–ª—è—Ö: –æ—Ç —Ñ–∞–∫—Ç—É—Ä—ã –ø–ª–∏—Ç–∫–∏ –¥–æ —Ç–µ–ø–ª–æ—Ç—ã —Å–≤–µ—Ç–∞. –ù–∏–∂–µ ‚Äî –ø—Ä–∏–º–µ—Ä—ã –æ—Ç–¥–µ–ª–∫–∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º –∑–æ–Ω–∞–º –¥–æ–º–∞.</p>

    <div class="toolbar finishes-tabs" role="tablist" aria-label="–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–¥–µ–ª–∫–∏">
      <button class="btn" type="button" data-tab="bathroom" aria-current="true" role="tab" aria-controls="bathroom">–í–∞–Ω–Ω–∞—è</button>
      <button class="btn" type="button" data-tab="kitchen" role="tab" aria-controls="kitchen">–ö—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è</button>
      <button class="btn" type="button" data-tab="rooms" role="tab" aria-controls="rooms">–ö–æ–º–Ω–∞—Ç—ã</button>
    </div>

    <!-- –í–∞–Ω–Ω–∞—è: 6 —Ñ–æ—Ç–æ -->
    <div id="bathroom" class="finish-view" role="tabpanel" aria-label="–í–∞–Ω–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞">
      <h3 class="sr-only">–í–∞–Ω–Ω–∞—è</h3>
      <div class="fin-carousel" data-images="bath1.jpg,bath2.jpg,bath3.jpg,bath4.jpg,bath5.jpg,bath6.jpg">
        <div class="fin-carousel__wrap" tabindex="0" aria-label="–ö–∞—Ä—É—Å–µ–ª—å —Ñ–æ—Ç–æ –æ—Ç–¥–µ–ª–∫–∏ –≤–∞–Ω–Ω–æ–π">
          <img src="bath1.jpg" alt="–û—Ç–¥–µ–ª–∫–∞ –≤–∞–Ω–Ω–æ–π ‚Äî —Ñ–æ—Ç–æ 1" class="fin-carousel__img" loading="lazy" decoding="async" />
          <button class="card-nav-btn fin-prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
          <button class="card-nav-btn fin-next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
          <div class="fin-idx" aria-hidden="true">1/6</div>
        </div>
      </div>
    </div>

    <!-- –ö—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è: 4 —Ñ–æ—Ç–æ -->
    <div id="kitchen" class="finish-view" role="tabpanel" aria-label="–ö—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è" hidden>
      <h3 class="sr-only">–ö—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è</h3>
      <div class="fin-carousel" data-images="kitchen1.jpg,kitchen2.jpg,kitchen3.jpg,kitchen4.jpg">
        <div class="fin-carousel__wrap" tabindex="0" aria-label="–ö–∞—Ä—É—Å–µ–ª—å —Ñ–æ—Ç–æ –æ—Ç–¥–µ–ª–∫–∏ –∫—É—Ö–Ω–∏-–≥–æ—Å—Ç–∏–Ω–æ–π">
          <img src="kitchen1.jpg" alt="–û—Ç–¥–µ–ª–∫–∞ –∫—É—Ö–Ω–∏‚Äë–≥–æ—Å—Ç–∏–Ω–æ–π ‚Äî —Ñ–æ—Ç–æ 1" class="fin-carousel__img" loading="lazy" decoding="async" />
          <button class="card-nav-btn fin-prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
          <button class="card-nav-btn fin-next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
          <div class="fin-idx" aria-hidden="true">1/4</div>
        </div>
      </div>
    </div>

    <!-- –ö–æ–º–Ω–∞—Ç—ã: 8 —Ñ–æ—Ç–æ -->
    <div id="rooms" class="finish-view" role="tabpanel" aria-label="–ö–æ–º–Ω–∞—Ç—ã" hidden>
      <h3 class="sr-only">–ö–æ–º–Ω–∞—Ç—ã</h3>
      <div class="fin-carousel" data-images="room1.jpg,room2.jpg,room3.jpg,room4.jpg,room5.jpg,room6.jpg,room7.jpg,room8.jpg">
        <div class="fin-carousel__wrap" tabindex="0" aria-label="–ö–∞—Ä—É—Å–µ–ª—å —Ñ–æ—Ç–æ –æ—Ç–¥–µ–ª–∫–∏ –∫–æ–º–Ω–∞—Ç">
          <img src="room1.jpg" alt="–û—Ç–¥–µ–ª–∫–∞ –∫–æ–º–Ω–∞—Ç—ã ‚Äî —Ñ–æ—Ç–æ 1" class="fin-carousel__img" loading="lazy" decoding="async" />
          <button class="card-nav-btn fin-prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
          <button class="card-nav-btn fin-next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
          <div class="fin-idx" aria-hidden="true">1/8</div>
        </div>
      </div>
    </div>
  </section>

  <section id="compare" class="fade-in" hidden>
    <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
      <h2>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤</h2>
      <button class="btn secondary" id="clearCompare">–û—á–∏—Å—Ç–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ</button>
    </div>
    <div id="compareHint" class="subtle" style="margin-bottom:12px;">–í—ã–±–µ—Ä–∏—Ç–µ –¥–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è</div>
    <div id="compareTableWrap" aria-live="polite"></div>
  </section>

  <section id="calculator" class="fade-in">
    <h2>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏</h2>

    <label for="area">–ü–ª–æ—â–∞–¥—å –¥–æ–º–∞ (–º¬≤):</label>
    <input type="number" id="area" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 250" min="50" max="1000" step="10" inputmode="numeric" autocomplete="off" />

    <label for="type">–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ:</label>
    <select id="type">
      <option value="build_nomats" data-price="20000">–ë–µ–∑ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ ‚Äî 20 000 ‚ÇΩ/–º¬≤</option>
      <option value="build_with" data-price="50000">–° –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ ‚Äî 50 000 ‚ÇΩ/–º¬≤</option>
    </select>

    <label for="finish">–û—Ç–¥–µ–ª–∫–∞:</label>
    <select id="finish">
      <option value="finish_none" data-price="0">–ë–µ–∑ –æ—Ç–¥–µ–ª–∫–∏</option>
      <option value="finish_nomats" data-price="20000">–ë–µ–∑ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ ‚Äî 20 000 ‚ÇΩ/–º¬≤</option>
      <option value="finish_with" data-price="50000">–° –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ ‚Äî 50 000 ‚ÇΩ/–º¬≤</option>
    </select>

    <p id="price" role="status" aria-live="polite">–°—Ç–æ–∏–º–æ—Å—Ç—å: ‚Äî</p>

    <div style="display:flex; gap:8px; flex-wrap:wrap;">
      <button class="btn" id="usePriceForMortgage" disabled>–ü–µ—Ä–µ–¥–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ –∏–ø–æ—Ç–µ—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
      <button class="btn secondary" id="copyEstimate" disabled>–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á—ë—Ç</button>
    </div>

    <p class="subtle">–†–∞—Å—á—ë—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–π –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç–æ–π.</p>

    <div class="chart-card" aria-live="polite">
      <h3 style="margin:6px 0 8px;">–°—Ç–∞–≤–∫–∏ –ø–æ —Ä–∞–±–æ—Ç–∞–º (‚ÇΩ/–º¬≤)</h3>
      <div id="priceChart"></div>
      <div class="chart-legend">
        <span><i style="background: var(--accent);"></i> –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ</span>
        <span><i style="background: color-mix(in srgb, var(--accent) 60%, #10b981 40%);"></i> –û—Ç–¥–µ–ª–∫–∞</span>
      </div>
    </div>
  </section>

  <section id="mortgage" class="fade-in">
    <h2>–ò–ø–æ—Ç–µ—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
    <div style="display:grid;grid-template-columns:1fr;gap:0;">
      <label for="homePrice">–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–º–∞ (‚ÇΩ):</label>
      <input type="text" id="homePrice" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 25 000 000" inputmode="numeric" autocomplete="off" />

      <label for="downPayment">–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å (‚ÇΩ):</label>
      <input type="text" id="downPayment" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 5 000 000" inputmode="numeric" autocomplete="off" />

      <label for="rate">–°—Ç–∞–≤–∫–∞, % –≥–æ–¥–æ–≤—ã—Ö:</label>
      <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
        <input type="number" id="rate" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 15" min="1" max="40" step="0.1" inputmode="decimal" style="flex:1 1 220px;" />
        <button class="btn secondary" id="refreshKeyRate" type="button" title="–û–±–Ω–æ–≤–∏—Ç—å –ø–æ –∫–ª—é—á–µ–≤–æ–π —Å—Ç–∞–≤–∫–µ –¶–ë">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É –¶–ë</button>
      </div>
      <p id="keyRateStatus" class="subtle" aria-live="polite"></p>

      <label for="years">–°—Ä–æ–∫, –ª–µ—Ç:</label>
      <input type="number" id="years" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 20" min="1" max="40" step="1" inputmode="numeric" />
    </div>

    <button class="btn" id="calcMortgage">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–ª–∞—Ç—ë–∂</button>
    <p id="mortgageResult" role="status" aria-live="polite">‚Äî</p>
    <p class="subtle">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ ‚Äî –Ω–µ –±–æ–ª–µ–µ 30‚Äì40% –æ—Ç –¥–æ—Ö–æ–¥–∞ —Å–µ–º—å–∏.</p>
  </section>

  <section id="qa" class="fade-in">
    <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Ä–∞–π–æ–Ω–∞–º</h2>

    <label for="district">–í–≤–µ–¥–∏—Ç–µ —Ä–∞–π–æ–Ω/–Ω–∞—Å–µ–ª—ë–Ω–Ω—ã–π –ø—É–Ω–∫—Ç:</label>
    <input type="text" id="district" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –°–µ—Å—Ç—Ä–æ—Ä–µ—Ü–∫, –ü–∞—Ä–≥–æ–ª–æ–≤–æ, –í—Å–µ–≤–æ–ª–æ–∂—Å–∫" list="districtList" />
    <datalist id="districtList">
      <option value="–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π"></option>
      <option value="–°–µ—Å—Ç—Ä–æ—Ä–µ—Ü–∫"></option>
      <option value="–ü–∞—Ä–≥–æ–ª–æ–≤–æ"></option>
      <option value="–í—ã–±–æ—Ä–≥—Å–∫–∏–π"></option>
      <option value="–í—Å–µ–≤–æ–ª–æ–∂—Å–∫"></option>
      <option value="–ö–æ–º–∞—Ä–æ–≤–æ"></option>
      <option value="–ó–µ–ª–µ–Ω–æ–≥–æ—Ä—Å–∫"></option>
      <option value="–ö—É–¥—Ä–æ–≤–æ"></option>
      <option value="–ü—É—à–∫–∏–Ω"></option>
      <option value="–ü–∞–≤–ª–æ–≤—Å–∫"></option>
      <option value="–°–µ—Ä—Ç–æ–ª–æ–≤–æ"></option>
      <option value="–ú—É—Ä–∏–Ω–æ"></option>
      <option value="–î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏"></option>
    </datalist>

    <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:8px;">
      <button class="btn" id="askDistrict" type="button">–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</button>
      <button class="btn secondary" id="clearDistrict" type="button">–û—á–∏—Å—Ç–∏—Ç—å</button>
    </div>

    <div id="districtInfo" style="margin-top:12px;" aria-live="polite"></div>

    <div id="districtMapWrap" style="margin-top:12px;">
      <iframe id="districtMap" class="map-embed" src="https://www.google.com/maps?q=Saint%20Petersburg&output=embed" loading="lazy" title="–ö–∞—Ä—Ç–∞ —Ä–∞–π–æ–Ω–æ–≤ ‚Äî –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ –∏ –õ–û" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </section>

  <section id="contact" class="fade-in">
    <h2>–°–≤—è–∑–∞—Ç—å—Å—è –ø–æ email</h2>
    <form id="emailForm" aria-label="–§–æ—Ä–º–∞ —Å–≤—è–∑–∏">
      <input type="text" name="honeypot" aria-hidden="true" tabindex="-1" class="sr-only" autocomplete="off" />
      <label for="name">–í–∞—à–µ –∏–º—è</label>
      <input type="text" id="name" name="name" placeholder="–ò–≤–∞–Ω" required autocomplete="name" />
      <label for="email">–í–∞—à email</label>
      <input type="email" id="email" name="email" placeholder="name@example.com" required autocomplete="email" />
      <label for="message">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
      <textarea id="message" name="message" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, –∫–∞–∫–æ–π –¥–æ–º –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ" required></textarea>
      <label for="preferredTime">–£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–≤–æ–Ω–∫–∞</label>
      <input type="text" id="preferredTime" name="preferredTime" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≤—Ç—Ä–∞ —Å 12:00 –¥–æ 16:00" autocomplete="off" />
      <input type="submit" value="–û—Ç–∫—Ä—ã—Ç—å –ø–∏—Å—å–º–æ –≤ –ø–æ—á—Ç–æ–≤–æ–º –∫–ª–∏–µ–Ω—Ç–µ" class="submit" />
    </form>
    <p id="contactStatus" class="subtle" role="status" aria-live="polite"></p>
    <div style="margin-top:8px;">
      <a class="btn secondary" href="mailto:infodomveka@mail.ru">–ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞ infodomveka@mail.ru</a>
    </div>
  </section>

  <div class="sticky-cta">
    <a href="#contact" class="btn">–ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é</a>
    <a href="mailto:infodomveka@mail.ru" class="btn secondary">–ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞ email</a>
  </div>

  <footer>
  &copy; <span id="year"></span> Dom Veka. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. |
  <a href="mailto:infodomveka@mail.ru">infodomveka@mail.ru</a> |
  <a href="tel:+79214243939">7 921 424 39 39</a>
</footer>

<button id="backToTop" aria-label="–ù–∞–≤–µ—Ä—Ö" title="–ù–∞–≤–µ—Ä—Ö">‚¨Ü</button>
<div id="toast" class="toast" role="status" aria-live="polite"></div>

<!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
<div id="modalImg" role="dialog" aria-modal="true" aria-hidden="true" aria-label="–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
  <button id="modalImg__close" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
  <button id="modalImg__prev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">‚Äπ</button>
  <button id="modalImg__next" type="button" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">‚Ä∫</button>
  <div id="modalImg__idx" aria-live="polite">‚Äî</div>
  <img id="modalImg__img" alt="">
</div>
<script>
/* Dom Veka ‚Äî –ø–æ–ª–Ω—ã–π JS (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∏ –ø–æ–ª–Ω—ã–π)
–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ (transform: scaleX) –∏ –∫–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö" (–∫–ª–∞—Å—Å .show)
- –¢–µ–º–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ localStorage, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ [data-theme] + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ <meta name="theme-color">
- –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ü–∏–π (.fade-in + .anim-shown)
- –ì–∞–ª–µ—Ä–µ—è –ø—Ä–æ–µ–∫—Ç–æ–≤: –º–∏–Ω–∏-–∫–∞—Ä—É—Å–µ–ª–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö, –º–æ–¥–∞–ª–∫–∞ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, —à—ç—Ä–∏–Ω–≥, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π
- –§–∏–ª—å—Ç—Ä—ã –∏ —Ä–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–∏ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π/–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π)
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ 2 –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ + –º–∏–Ω–∏-–≥—Ä–∞—Ñ–∏–∫ —Å—Ç–∞–≤–æ–∫
- –ò–ø–æ—Ç–µ—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (–∞–Ω–Ω—É–∏—Ç–µ—Ç) + "–æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É"
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Ä–∞–π–æ–Ω–∞–º + –∫–∞—Ä—Ç–∞
- Email-—Ñ–æ—Ä–º–∞ —Å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º mailto –Ω–∞ infodomveka@mail.ru
- –¢–æ—Å—Ç—ã (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
*/

(function () {
  'use strict';

  // ========= –£—Ç–∏–ª–∏—Ç—ã =========
  const qs = (sel, root = document) => root.querySelector(sel);
  const qsa = (sel, root = document) => Array.from(root.querySelectorAll(sel));
  const clamp = (v, min, max) => Math.min(max, Math.max(min, v));
  const onlyDigits = (s) => (s || '').toString().replace(/[^\d]/g, '');
  const formatMoney = (num) => (num === null || num === undefined || isNaN(num) ? '‚Äî' : Number(num).toLocaleString('ru-RU'));

  let toastTimer;
  function showToast(message) {
    const toast = qs('#toast');
    if (!toast) return;
    toast.textContent = message;
    toast.classList.add('show');
    clearTimeout(toastTimer);
    toastTimer = setTimeout(() => toast.classList.remove('show'), 2600);
  }

  // ========= –ë–∞–∑–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã =========
  const backToTopBtn = qs('#backToTop');
  const themeToggle = qs('#themeToggle');
  const progress = qs('#progress');
  const dynamicThemeMeta = qs('#dynamic-theme-color');
  const yearSpan = qs('#year');

  // ========= –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è =========
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }

  function init() {
  if (yearSpan) yearSpan.textContent = new Date().getFullYear();
  initTheme();
  initScrollUI();
  initFadeIn();
  initProjectCards();
  initGalleryFiltersAndViews();
  initCompare();
  initCostCalculator();
  initMortgageCalculator();
  initDistricts();
  initEmailForm();
  initGlobalShortcuts();
  fillProjectPrices();
  initFinishes(); // 
}


  // ========= –¢–µ–º–∞ (—á–µ—Ä–µ–∑ data-theme + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ meta theme-color) =========
  function initTheme() {
    const saved = localStorage.getItem('theme');
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const initial = saved === 'dark' || saved === 'light' ? saved : prefersDark ? 'dark' : 'light';

    setTheme(initial);

    themeToggle?.addEventListener('click', () => {
      const cur = document.documentElement.getAttribute('data-theme') || (prefersDark ? 'dark' : 'light');
      const next = cur === 'dark' ? 'light' : 'dark';
      setTheme(next);
      showToast(next === 'dark' ? '–¢—ë–º–Ω–∞—è —Ç–µ–º–∞' : '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞');
    });

    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      document.body.style.colorScheme = theme;
      localStorage.setItem('theme', theme);
      if (themeToggle) {
        themeToggle.setAttribute('aria-pressed', theme === 'dark' ? 'true' : 'false');
        themeToggle.textContent = theme === 'dark' ? '‚òÄÔ∏è –¢–µ–º–∞' : 'üåô –¢–µ–º–∞';
      }
      if (dynamicThemeMeta) {
        const cssColor = getComputedStyle(document.documentElement).getPropertyValue('--theme-color').trim();
        dynamicThemeMeta.setAttribute('content', cssColor || (theme === 'dark' ? '#0e1524' : '#f3f4f6'));
      }
    }
  }

  // ========= –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∏ ‚Äú–ù–∞–≤–µ—Ä—Ö‚Äù (–∫–ª–∞—Å—Å .show) =========
  function initScrollUI() {
    const onScroll = () => {
      const scTop = window.scrollY || document.documentElement.scrollTop;
      const H = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const ratio = H > 0 ? clamp(scTop / H, 0, 1) : 0;
      if (progress) progress.style.transform = `scaleX(${ratio})`;
      if (backToTopBtn) backToTopBtn.classList.toggle('show', scTop > 400);
    };
    window.addEventListener('scroll', onScroll, { passive: true });
    window.addEventListener('resize', onScroll);
    onScroll();
    backToTopBtn?.addEventListener('click', (e) => {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }

  // ========= –ü–æ—è–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π (.fade-in + .anim-shown) =========
  function initFadeIn() {
    const elems = qsa('.fade-in');
    if (!('IntersectionObserver' in window) || elems.length === 0) {
      elems.forEach((el) => el.classList.add('anim-shown'));
      return;
    }
    const io = new IntersectionObserver(
      (entries, obs) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('anim-shown');
            obs.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.12 }
    );
    elems.forEach((el) => io.observe(el));
  }

  // ========= –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ (–¥–ª—è —Ü–µ–Ω –∏ –æ–ø–∏—Å–∞–Ω–∏–π) =========
  const PROJECTS = [
    { id: 'p1', name: '–ü—Ä–æ–µ–∫—Ç 46', type: '–ö–∏—Ä–ø–∏—á–Ω—ã–π', area: 180, bedrooms: 4, baths: 3, floors: 1, lot: 0, basePricePerM2: 166667, images: ['house1.jpg', 'house1_2.jpg', 'house1_3.jpg', 'house1_4.jpg'], image: 'house1.jpg', location: '–í—Å–µ–≤–æ–ª–æ–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω', minPriceOverride: 30000000, dependsOnLot: true },
    { id: 'p2', name: '–ü—Ä–æ–µ–∫—Ç 180', type: '–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π', area: 135, bedrooms: 3, baths: 2, floors: 1, lot: 0, basePricePerM2: 120000, images: ['house2.jpg', 'house2_2.jpg', 'house2_3.jpg', 'house2_4.jpg'], image: 'house2.jpg', location: '–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π —Ä–∞–π–æ–Ω' },
    { id: 'p3', name: '–ü—Ä–æ–µ–∫—Ç 175', type: '–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π', area: 200, bedrooms: 4, baths: 3, lot: 0, basePricePerM2: 150000, images: ['house3.jpg', 'house3_2.jpg', 'house3_3.jpg', 'house3_4.jpg', 'house3_5.jpg'], image: 'house3.jpg', location: '–í—Å–µ–≤–æ–ª–æ–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω', minPriceOverride: 30000000 },
    { id: 'p4', name: '–ü—Ä–æ–µ–∫—Ç –ü–æ–ª–µ–≤–∞—è', type: '–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π', area: 150, bedrooms: 3, baths: 2, lot: 0, basePricePerM2: 100000, images: ['polevaya1.jpg', 'polevaya2.jpg', 'polevaya3.jpg', 'polevaya4.jpg', 'polevaya5.jpg'], image: 'polevaya1.jpg', location: '–î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏', minPriceOverride: 15000000 },
    { id: 'p5', name: '–ü—Ä–æ–µ–∫—Ç 32', type: '–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π', area: 250, bedrooms: 7, baths: 3, lot: 6, basePricePerM2: 100000, images: ['p32_1.jpg', 'p32_2.jpg', 'p32_3.jpg', 'p32_4.jpg', 'p32_5.jpg', 'p32_6.jpg'], image: 'p32_1.jpg', location: '–î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏', minPriceOverride: 25000000 },
    { id: 'p6', name: '–ü—Ä–æ–µ–∫—Ç –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è', type: '–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π', area: 135, bedrooms: 3, baths: 2, lot: 8, basePricePerM2: 111112, images: ['skandi1.jpg', 'skandi2.jpg', 'skandi3.jpg', 'skandi4.jpg'], image: 'skandi1.jpg', location: '–î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏', minPriceOverride: 15000000 }
  ];

  // ========= –ú–æ–¥–∞–ª–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π =========
  const modal = qs('#modalImg');
  const modalImg = qs('#modalImg__img');
  const modalClose = qs('#modalImg__close');
  const modalPrev = qs('#modalImg__prev');
  const modalNext = qs('#modalImg__next');
  const modalIdx = qs('#modalImg__idx');
  let modalState = { list: [], idx: 0 };

  function renderModal() {
    if (!modal || !modalImg || !modalIdx) return;
    const img = modalState.list[modalState.idx];
    modalImg.src = img || '';
    modalIdx.textContent = modalState.list.length ? `${modalState.idx + 1}/${modalState.list.length}` : '‚Äî';
  }
  function openModalImage(src, list = [], startIdx = 0) {
    modalState.list = list && list.length ? list : src ? [src] : [];
    const found = modalState.list.indexOf(src);
    modalState.idx = found >= 0 ? found : Math.max(0, Math.min(startIdx, modalState.list.length - 1));
    renderModal();
    modal?.setAttribute('aria-hidden', 'false');
    document.body.style.overflow = 'hidden';
  }
  function closeModal() {
    modal?.setAttribute('aria-hidden', 'true');
    document.body.style.overflow = '';
    if (modalImg) modalImg.src = '';
    modalState = { list: [], idx: 0 };
  }
  function nextModal() {
    if (!modalState.list.length) return;
    modalState.idx = (modalState.idx + 1) % modalState.list.length;
    renderModal();
  }
  function prevModal() {
    if (!modalState.list.length) return;
    modalState.idx = (modalState.idx - 1 + modalState.list.length) % modalState.list.length;
    renderModal();
  }
  modalClose?.addEventListener('click', closeModal);
  modalNext?.addEventListener('click', nextModal);
  modalPrev?.addEventListener('click', prevModal);
  modal?.addEventListener('click', (e) => {
    if (e.target === modal) closeModal();
  });
  window.addEventListener('keydown', (e) => {
    if (!modal || modal.getAttribute('aria-hidden') === 'true') return;
    if (e.key === 'Escape') closeModal();
    if (e.key === 'ArrowRight') nextModal();
    if (e.key === 'ArrowLeft') prevModal();
  });

  // ========= –ö–∞—Ä—É—Å–µ–ª–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ + –¥–µ–π—Å—Ç–≤–∏—è =========
  function initProjectCards() {
    qsa('.card').forEach((card) => {
      const wrap = qs('.card-img-wrap', card);
      const img = qs('img.card-img', card);
      const link = qs('.img-preview', card);
      const btnPrev = qs('.card-prev', card);
      const btnNext = qs('.card-next', card);
      const idxBadge = qs('.card-idx', card);
      const imgs = (card.getAttribute('data-images') || '')
        .split(',')
        .map((s) => s.trim())
        .filter(Boolean);
      if (!wrap || !img || !imgs.length) return;

      let idx = 0;
      const render = () => {
        img.src = imgs[idx];
        if (link) link.setAttribute('href', imgs[idx]);
        if (idxBadge) idxBadge.textContent = `${idx + 1}/${imgs.length}`;
      };
      const next = () => {
        idx = (idx + 1) % imgs.length;
        render();
      };
      const prev = () => {
        idx = (idx - 1 + imgs.length) % imgs.length;
        render();
      };
      btnPrev?.addEventListener('click', (e) => {
        e.preventDefault();
        prev();
      });
      btnNext?.addEventListener('click', (e) => {
        e.preventDefault();
        next();
      });
      wrap.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') {
          e.preventDefault();
          prev();
        }
        if (e.key === 'ArrowRight') {
          e.preventDefault();
          next();
        }
        if (e.key === 'Enter') {
          e.preventDefault();
          openModalImage(imgs[idx], imgs, idx);
        }
      });
      link?.addEventListener('click', (e) => {
        e.preventDefault();
        openModalImage(imgs[idx], imgs, idx);
      });
      // —Å–≤–∞–π–ø
      let startX = 0,
        swiping = false;
      wrap.addEventListener('pointerdown', (e) => {
        swiping = true;
        startX = e.clientX;
      });
      wrap.addEventListener('pointerup', (e) => {
        if (!swiping) return;
        const dx = e.clientX - startX;
        if (Math.abs(dx) > 30) {
          dx < 0 ? next() : prev();
        }
        swiping = false;
      });
      render();

      // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è
      qsa('[data-gen]', card).forEach((btn) => {
        btn.addEventListener('click', () => {
          const id = btn.getAttribute('data-gen');
          const p = PROJECTS.find((x) => x.id === id);
          const el = qs('#desc-' + id);
          if (p && el) {
            el.textContent = generateDescription(p);
            showToast('–û–ø–∏—Å–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ');
          }
        });
      });

      // –®—ç—Ä–∏–Ω–≥
      qsa('[data-share]', card).forEach((btn) => {
        btn.addEventListener('click', async () => {
          const id = btn.getAttribute('data-share');
          const p = PROJECTS.find((x) => x.id === id);
          if (!p) return;
          const price = formatCurrency(p.minPriceOverride ? p.minPriceOverride : p.area * p.basePricePerM2);
          const text = `${p.name} ‚Äî ${p.type}, ${p.area} –º¬≤, ${p.bedrooms} —Å–ø–∞–ª—å–Ω–∏. –ë—é–¥–∂–µ—Ç –æ—Ç ${price}. –õ–æ–∫–∞—Ü–∏—è: ${p.location}.`;
          const url = location.href.split('#')[0] + '#gallery';
          try {
            if (navigator.share) {
              await navigator.share({ title: p.name, text, url });
              showToast('–°—Å—ã–ª–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞');
            } else if (navigator.clipboard) {
              await navigator.clipboard.writeText(`${text}\n${url}`);
              showToast('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞');
            } else {
              location.href = `mailto:?subject=${encodeURIComponent(p.name)}&body=${encodeURIComponent(text + '\n' + url)}`;
            }
          } catch {}
        });
      });
    });

    function formatCurrency(n) {
      return formatMoney(Math.round(n)) + ' ‚ÇΩ';
    }
  }

  // ========= –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–æ–≤ =========
  function generateDescription(p) {
    if (p.id === 'p1') {
      const price = formatMoney(p.minPriceOverride ?? p.area * p.basePricePerM2) + ' ‚ÇΩ';
      return `–ü—Ä–æ–µ–∫—Ç 46 ‚Äî –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–º, ${p.area} –º¬≤: 4 —Å–ø–∞–ª—å–Ω–∏ (–≤–∫–ª—é—á–∞—è –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—é), –∫—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, ${p.baths} —Å–∞–Ω—É–∑–ª–∞. –°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç ${price}; –∏—Ç–æ–≥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞.`;
    }
    if (p.id === 'p2') {
      return `–ü—Ä–æ–µ–∫—Ç 180 ‚Äî –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º, ${p.area} –º¬≤: 3 —Å–ø–∞–ª—å–Ω–∏ (–≤–∫–ª—é—á–∞—è –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—é), –∫—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–µ –æ–∫–Ω–∞, ${p.baths} —Å–∞–Ω—É–∑–ª–∞. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å—Ç–∏–ª—å –∏ –º–∞–∫—Å–∏–º—É–º —Å–≤–µ—Ç–∞.`;
    }
    const style =
      p.type === '–ö–∏—Ä–ø–∏—á–Ω—ã–π' ? '–µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º' : p.type === '–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π' ? '—Å–∫–∞–Ω–¥–∏–º–∏–Ω–∏–º–∞–ª–∏–∑–º' : '—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏–∫–∞';
    const commute = /–ü—Ä–∏–º–æ—Ä|–õ–∞—Ö—Ç–∞|–ö—É—Ä–æ—Ä—Ç|–°–µ—Å—Ç—Ä–æ—Ä–µ—Ü–∫|–õ–∏—Å–∏–π –ù–æ—Å|–ü–∞—Ä–≥–æ–ª–æ–≤–æ|–ü–∞—Ä–Ω–∞—Å/.test(p.location)
      ? '15‚Äì30 –º–∏–Ω—É—Ç –¥–æ —Ü–µ–Ω—Ç—Ä–∞'
      : '30‚Äì50 –º–∏–Ω—É—Ç –¥–æ —Ü–µ–Ω—Ç—Ä–∞';
    const lotText = p.lot ? `–£—á–∞—Å—Ç–æ–∫ ${p.lot} —Å–æ—Ç–æ–∫ ‚Äî –º–µ—Å—Ç–æ –¥–ª—è —Å–∞–¥–∞ –∏ –±–∞—Ä–±–µ–∫—é. ` : '';
    const price = formatMoney(p.minPriceOverride ? p.minPriceOverride : p.area * p.basePricePerM2) + ' ‚ÇΩ';

    if (p.id === 'p3') {
      return `–ü—Ä–æ–µ–∫—Ç 175: –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞, ${p.area} –º¬≤. –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞: –∫—É—Ö–Ω—è–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –º–∞—Å—Ç–µ—Ä—Å–ø–∞–ª—å–Ω—è —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–∞–Ω—É–∑–ª–æ–º, –µ—â—ë —Ç—Ä–∏ —Å–ø–∞–ª—å–Ω–∏ ‚Äî –≤—Å–µ–≥–æ ${p.baths} —Å–∞–Ω—É–∑–ª–∞. ${lotText}–õ–æ–∫–∞—Ü–∏—è: ${p.location} (${commute}). –ë—é–¥–∂–µ—Ç –æ—Ç ${price} (–±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏).`;
    }
    if (p.id === 'p4') {
      return `–ü—Ä–æ–µ–∫—Ç –ü–æ–ª–µ–≤–∞—è: –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞, ${p.area} –º¬≤. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å, –∫—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—è —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–∞–Ω—É–∑–ª–æ–º, –µ—â—ë –¥–≤–µ —Å–ø–∞–ª—å–Ω–∏ ‚Äî –≤—Å–µ–≥–æ ${p.baths} —Å–∞–Ω—É–∑–ª–∞. –õ–æ–∫–∞—Ü–∏—è: ${p.location}. –ë—é–¥–∂–µ—Ç –æ—Ç ${price} (–±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞).`;
    }
    if (p.id === 'p5') {
      return `–ü—Ä–æ–µ–∫—Ç 32: –¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞, ${p.area} –º¬≤. –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, 7 —Å–ø–∞–ª–µ–Ω, –≤–∫–ª—é—á–∞—è –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—é —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–∞–Ω—É–∑–ª–æ–º; –≤—Å–µ–≥–æ ${p.baths} —Å–∞–Ω—É–∑–ª–∞. ${lotText}–õ–æ–∫–∞—Ü–∏—è: ${p.location}. –ë—é–¥–∂–µ—Ç –æ—Ç ${price} (–±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—á–∞—Å—Ç–∫–∞ ‚Äî 6 —Å–æ—Ç–æ–∫).`;
    }
    if (p.id === 'p6') {
      return `–ü—Ä–æ–µ–∫—Ç –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è: –¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã–π –¥–æ–º –∏–∑ –≥–∞–∑–æ–±–µ—Ç–æ–Ω–∞, ${p.area} –º¬≤. –ß–∏—Å—Ç—ã–µ –ª–∏–Ω–∏–∏ –∏ —Å–≤–µ—Ç: –∫—É—Ö–Ω—è‚Äë–≥–æ—Å—Ç–∏–Ω–∞—è —Å –≤—ã—Ö–æ–¥–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—É, –º–∞—Å—Ç–µ—Ä‚Äë—Å–ø–∞–ª—å–Ω—è –∏ –µ—â—ë –¥–≤–µ —Å–ø–∞–ª—å–Ω–∏; –≤—Å–µ–≥–æ ${p.baths} —Å–∞–Ω—É–∑–ª–∞. ${lotText}–õ–æ–∫–∞—Ü–∏—è: ${p.location}. –ë—é–¥–∂–µ—Ç –æ—Ç ${price} (–±–µ–∑ –æ—Ç–¥–µ–ª–∫–∏; —É—á–∞—Å—Ç–æ–∫ ${p.lot} —Å–æ—Ç–æ–∫).`;
    }
    return `${p.name}: ${p.type.toLowerCase()}, ${p.area} –º¬≤, ${p.bedrooms} —Å–ø–∞–ª—å–Ω–∏. –°—Ç–∏–ª—å ‚Äî ${style}. ${lotText}–õ–æ–∫–∞—Ü–∏—è: ${p.location} (${commute}). –ë—é–¥–∂–µ—Ç –æ—Ç ${price}.`;
  }

  // ========= –§–∏–ª—å—Ç—Ä—ã –∏ —Ä–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–∏ =========
  function initGalleryFiltersAndViews() {
    const grid = qs('#projectsGrid');
    if (!grid) return;
    const btnBrick = qs('#filterBrick');
    const btnAac = qs('#filterAac');
    const btnReset = qs('#resetFilter');
    const btnComfort = qs('#viewComfort');
    const btnCompact = qs('#viewCompact');

    function applyFilter(type) {
      qsa('.card', grid).forEach((c) => {
        const t = c.querySelector('.meta')?.textContent || '';
        if (!type) {
          c.classList.remove('dim');
        } else {
          c.classList.toggle('dim', !new RegExp(type).test(t));
        }
      });
    }
    btnBrick?.addEventListener('click', () => applyFilter('–ö–∏—Ä–ø–∏—á–Ω—ã–π'));
    btnAac?.addEventListener('click', () => applyFilter('–ì–∞–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–π'));
    btnReset?.addEventListener('click', () => applyFilter(null));

    const saved = localStorage.getItem('viewMode') || 'comfort';
    if (saved === 'compact') grid.classList.add('compact');
    btnCompact?.addEventListener('click', () => {
      grid.classList.add('compact');
      localStorage.setItem('viewMode', 'compact');
    });
    btnComfort?.addEventListener('click', () => {
      grid.classList.remove('compact');
      localStorage.setItem('viewMode', 'comfort');
    });
  }

  // ========= –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ (–¥–æ 2) =========
  function initCompare() {
    const compareChecks = qsa('.compareCheck');
    const compareSection = qs('#compare');
    const compareTableWrap = qs('#compareTableWrap');
    const compareHint = qs('#compareHint');
    const clearCompareBtn = qs('#clearCompare');

    if (!compareChecks.length || !compareSection || !compareTableWrap) return;

    function renderCompare() {
      const selected = compareChecks.filter((cb) => cb.checked).slice(0, 2);
      // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–æ 2 –∏ —Å–Ω–∏–º–µ–º –ª–∏—à–Ω–∏–µ
      compareChecks.forEach((cb) => {
        if (!selected.includes(cb) && selected.length >= 2 && cb.checked) cb.checked = false;
      });

      if (selected.length === 0) {
        compareSection.hidden = true;
        compareTableWrap.innerHTML = '';
        if (compareHint) compareHint.style.display = '';
        return;
      }

      if (selected.length < 2) {
        compareSection.hidden = false;
        compareTableWrap.innerHTML = '<div class="subtle">–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è</div>';
        if (compareHint) compareHint.style.display = 'none';
        return;
      }

      const [c1, c2] = selected.map((cb) => cb.closest('.card'));
      const title1 = qs('h3', c1)?.textContent || '';
      const title2 = qs('h3', c2)?.textContent || '';
      const m1 = qsa('.meta span', c1).map((s) => s.textContent);
      const m2 = qsa('.meta span', c2).map((s) => s.textContent);

      const rows = [
        ['–ü—Ä–æ–µ–∫—Ç', title1, title2],
        ['–¢–∏–ø', m1[0], m2[0]],
        ['–ü–ª–æ—â–∞–¥—å', m1[1], m2[1]],
        ['–°–ø–∞–ª—å–Ω–∏', m1[2], m2[2]]
      ];

      let html = `<table class="compare-table"><thead><tr><th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th><th>${escapeHtml(title1)}</th><th>${escapeHtml(
        title2
      )}</th></tr></thead><tbody>`;
      rows.forEach((r) => {
        html += `<tr><th>${escapeHtml(r[0])}</th><td>${escapeHtml(r[1])}</td><td>${escapeHtml(r[2])}</td></tr>`;
      });
      html += '</tbody></table>';
      compareTableWrap.innerHTML = html;
      compareSection.hidden = false;
      if (compareHint) compareHint.style.display = 'none';
    }

    compareChecks.forEach((cb) => cb.addEventListener('change', renderCompare));
    clearCompareBtn?.addEventListener('click', () => {
      compareChecks.forEach((cb) => (cb.checked = false));
      renderCompare();
    });
    renderCompare();

    function escapeHtml(s) {
      return (s || '').toString().replace(/[&<>"']/g, (m) => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' }[m]));
    }
  }

  // ========= –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ =========
  function initCostCalculator() {
    const priceElem = qs('#price');
    const priceChart = qs('#priceChart');
    const usePriceForMortgage = qs('#usePriceForMortgage');
    const copyEstimate = qs('#copyEstimate');
    const areaInput = qs('#area');
    const typeSelect = qs('#type');
    const finishSelect = qs('#finish');

    if (!priceElem || !areaInput || !typeSelect || !finishSelect) return;

    function drawChart(typePrice, finishPrice) {
      const max = Math.max(typePrice, finishPrice, 1);
      const bar = (label, value, color) => `
        <div style="margin:8px 0;">
          <div style="display:flex;justify-content:space-between;align-items:baseline;">
            <strong>${label}</strong><span class="subtle">${formatMoney(value)} / –º¬≤</span>
          </div>
          <div style="height:10px;background:var(--border);border-radius:999px;overflow:hidden;">
            <div style="height:10px;width:${(value / max) * 100}%;background:${color};border-radius:999px;"></div>
          </div>
        </div>`;
      priceChart.innerHTML =
        bar('–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ', typePrice, 'var(--accent)') +
        bar('–û—Ç–¥–µ–ª–∫–∞', finishPrice, 'color-mix(in srgb, var(--accent) 60%, #10b981 40%)');
    }

    function updateEstimate() {
      const area = parseFloat(areaInput.value);
      const type = parseFloat(typeSelect.selectedOptions[0]?.dataset?.price || '0');
      const finish = parseFloat(finishSelect.selectedOptions[0]?.dataset?.price || '0');
      if (!isNaN(area) && area > 0) {
        const total = Math.round(area * (type + finish));
        priceElem.textContent = `–°—Ç–æ–∏–º–æ—Å—Ç—å: ${formatMoney(total)} ‚ÇΩ`;
        usePriceForMortgage?.removeAttribute('disabled');
        copyEstimate?.removeAttribute('disabled');
        drawChart(type, finish);
      } else {
        priceElem.textContent = '–°—Ç–æ–∏–º–æ—Å—Ç—å: ‚Äî';
        usePriceForMortgage?.setAttribute('disabled', 'true');
        copyEstimate?.setAttribute('disabled', 'true');
        if (priceChart) priceChart.innerHTML = '';
      }
    }

    areaInput.addEventListener('input', updateEstimate);
    typeSelect.addEventListener('change', updateEstimate);
    finishSelect.addEventListener('change', updateEstimate);
    updateEstimate();

    usePriceForMortgage?.addEventListener('click', () => {
      const m = (priceElem.textContent || '').match(/\d[\d\s]+/);
      const homePriceInput = qs('#homePrice');
      if (m && homePriceInput) {
        homePriceInput.value = m[0].replace(/\s+/g, '');
        formatMoneyInput(homePriceInput);
        showToast('–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤ –∏–ø–æ—Ç–µ—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä');
        location.hash = '#mortgage';
      }
    });

    copyEstimate?.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(priceElem.textContent || '');
        showToast('–†–∞—Å—á—ë—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω');
      } catch {
        showToast('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å');
      }
    });
  }

  // ========= –ò–ø–æ—Ç–µ—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä =========
  function initMortgageCalculator() {
    const homePriceInput = qs('#homePrice');
    const downPaymentInput = qs('#downPayment');
    const rateInput = qs('#rate');
    const yearsInput = qs('#years');
    const calcMortgageBtn = qs('#calcMortgage');
    const mortgageResult = qs('#mortgageResult');
    const refreshKeyRateBtn = qs('#refreshKeyRate');
    const keyRateStatus = qs('#keyRateStatus');

    if (!homePriceInput || !downPaymentInput || !rateInput || !yearsInput || !calcMortgageBtn || !mortgageResult) return;

    [homePriceInput, downPaymentInput].forEach((inp) => {
      inp.addEventListener('input', () => {
        const digits = onlyDigits(inp.value);
inp.value = digits;
formatMoneyInput(inp); // –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏
});
inp.addEventListener('blur', () => formatMoneyInput(inp));
// –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
inp.addEventListener('focus', () => {
  inp.value = onlyDigits(inp.value);
});
});

function valNum(inp) {
  return parseInt(onlyDigits(inp.value), 10) || 0;
}

function calc() {
  const price = valNum(homePriceInput);
  const down = valNum(downPaymentInput);
  const rate = parseFloat(rateInput.value);
  const years = parseInt(yearsInput.value, 10);

  if (!price || isNaN(rate) || !years) {
    showToast('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
    return;
  }
  if (down > price) {
    showToast('–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å');
    return;
  }

  const loan = price - down;
  const monthlyRate = rate / 100 / 12;
  const n = years * 12;

  // –ê–Ω–Ω—É–∏—Ç–µ—Ç: A = P * i / (1 - (1+i)^-n)
  const monthly = loan === 0 ? 0 : loan * monthlyRate / (1 - Math.pow(1 + monthlyRate, -n));
  mortgageResult.textContent = `–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç—ë–∂: ${formatMoney(Math.round(monthly))} ‚ÇΩ`;
}

calcMortgageBtn.addEventListener('click', calc);

// –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É (–∏–º–∏—Ç–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–µ–≤–æ–π —Å—Ç–∞–≤–∫–∏)
refreshKeyRateBtn?.addEventListener('click', async () => {
  // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –±–µ—Ä—ë–º —Å –±—ç–∫–µ–Ω–¥–∞; —Ç—É—Ç ‚Äî –æ—Ä–∏–µ–Ω—Ç–∏—Ä 16%
  rateInput.value = '16';
  keyRateStatus.textContent = '–°—Ç–∞–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞: 16%';
  showToast('–°—Ç–∞–≤–∫–∞ –¶–ë –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ 16%');
});
}

// –û–±—â–∏–π —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –¥–µ–Ω–µ–∂–Ω—ã—Ö –∏–Ω–ø—É—Ç–æ–≤
function formatMoneyInput(inp) {
  const digits = onlyDigits(inp.value);
  if (digits) {
    inp.value = Number(digits).toLocaleString('ru-RU');
  } else {
    inp.value = '';
  }
}

// ========= –†–∞–π–æ–Ω—ã –∏ –∫–∞—Ä—Ç–∞ =========
function initDistricts() {
  const districtInput = qs('#district');
  const askBtn = qs('#askDistrict');
  const clearBtn = qs('#clearDistrict');
  const districtInfo = qs('#districtInfo');
  const map = qs('#districtMap');

  if (!districtInput || !askBtn || !clearBtn || !districtInfo || !map) return;

  const info = {
    '–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π': '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –±–ª–∏–∑–æ—Å—Ç—å –∫ –£–¥–µ–ª—å–Ω–æ–º—É –ø–∞—Ä–∫—É –∏ –õ–∞—Ö—Ç–∞ –¶–µ–Ω—Ç—Ä—É. –•–æ—Ä–æ—à–∏–µ —Ä–∞–∑–≤—è–∑–∫–∏, –Ω–æ —Ç—Ä–∞—Ñ–∏–∫ –≤ —á–∞—Å—ã –ø–∏–∫.',
    '–°–µ—Å—Ç—Ä–æ—Ä–µ—Ü–∫': '–ö—É—Ä–æ—Ä—Ç–Ω—ã–π —Ä–∞–π–æ–Ω —Å –≤—ã—Ö–æ–¥–æ–º –∫ –§–∏–Ω—Å–∫–æ–º—É –∑–∞–ª–∏–≤—É, —Å–æ—Å–Ω—ã, —á–∏—Å—Ç—ã–π –≤–æ–∑–¥—É—Ö. –°–µ–∑–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å —Ç—Ä–∞—Å—Å—ã.',
    '–ü–∞—Ä–≥–æ–ª–æ–≤–æ': '–ê–∫—Ç–∏–≤–Ω–∞—è –∑–∞—Å—Ç—Ä–æ–π–∫–∞, —Å–æ—á–µ—Ç–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ñ–ö –∏ —á–∞—Å—Ç–Ω–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞. –ë–ª–∏–∑–æ—Å—Ç—å –∫ –ö–ê–î –∏ –°—É–∑–¥–∞–ª—å—Å–∫–∏–º –æ–∑—ë—Ä–∞–º.',
    '–í—ã–±–æ—Ä–≥—Å–∫–∏–π': '–ó–µ–ª—ë–Ω—ã–π, —Å–ø–æ–∫–æ–π–Ω—ã–π, –º–Ω–æ–≥–æ —à–∫–æ–ª –∏ —Å–∞–¥–æ–≤. –£–º–µ—Ä–µ–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫, —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —É—á–∞—Å—Ç–∫–æ–≤.',
    '–í—Å–µ–≤–æ–ª–æ–∂—Å–∫': '–ì–æ—Ä–æ–¥-—Å–ø—É—Ç–Ω–∏–∫, –∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ—Ç—Ç–µ–¥–∂–Ω–∞—è –∑–∞—Å—Ç—Ä–æ–π–∫–∞, —Ö–æ—Ä–æ—à–∞—è —ç–∫–æ–ª–æ–≥–∏—è. –í —á–∞—Å—ã –ø–∏–∫ –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–∫–∏ –Ω–∞ –≤—ã–µ–∑–¥.',
    '–ö–æ–º–∞—Ä–æ–≤–æ': '–ü—Ä–µ—Å—Ç–∏–∂–Ω—ã–π –∫—É—Ä–æ—Ä—Ç–Ω—ã–π –ø–æ—Å—ë–ª–æ–∫, —Ö–≤–æ–π–Ω—ã–π –ª–µ—Å –∏ –±–ª–∏–∑–æ—Å—Ç—å –∫ –º–æ—Ä—é. –í—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —É—á–∞—Å—Ç–∫–æ–≤.',
    '–ó–µ–ª–µ–Ω–æ–≥–æ—Ä—Å–∫': '–ö—É—Ä–æ—Ä—Ç–Ω–∞—è –∑–æ–Ω–∞, –ø–ª—è–∂–∏ –∏ —Å–æ—Å–Ω–æ–≤—ã–µ –ª–µ—Å–∞. –ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ–µ –ª–µ—Ç–æ, –≤—ã—à–µ —Å–ø—Ä–æ—Å –Ω–∞ —É—á–∞—Å—Ç–∫–∏.',
    '–ö—É–¥—Ä–æ–≤–æ': '–ë–ª–∏–∑–æ—Å—Ç—å –∫ –º–µ—Ç—Ä–æ, –∞–∫—Ç–∏–≤–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –ì–æ—Ä–æ–¥—Å–∫–∏–µ —É–¥–æ–±—Å—Ç–≤–∞ —Ä—è–¥–æ–º.',
    '–ü—É—à–∫–∏–Ω': '–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞, –ø–∞—Ä–∫–∏, —Ä–∞–∑–≤–∏—Ç–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –£–º–µ—Ä–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.',
    '–ü–∞–≤–ª–æ–≤—Å–∫': '–ü–∞—Ä–∫, –ø—Ä–∏—Ä–æ–¥–∞ –∏ —Ç–∏—à–∏–Ω–∞. –ñ–∏–∑–Ω—å –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥–µ —Å –∫–æ–º—Ñ–æ—Ä—Ç–æ–º.',
    '–°–µ—Ä—Ç–æ–ª–æ–≤–æ': '–°–ø–æ–∫–æ–π–Ω—ã–π –ø—Ä–∏–≥–æ—Ä–æ–¥, –∑–µ–ª–µ–Ω—ã–µ –∑–æ–Ω—ã. –£–¥–æ–±–Ω—ã–π –≤—ã–µ–∑–¥ –∫ –ö–ê–î.',
    '–ú—É—Ä–∏–Ω–æ': '–†–∞–∑–≤–∏—Ç–∞—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è —Å–µ—Ç—å, –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç—Ä–æ. –ì–æ—Ä–æ–¥—Å–∫–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç—É–ø–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ —Ä—è–¥–æ–º.',
    '–î—Ä–∞–Ω–∏—à–Ω–∏–∫–∏': '–°–µ–ª—å—Å–∫–∞—è –∏–¥–∏–ª–ª–∏—è, –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å, –±–ª–∏–∑–æ—Å—Ç—å –∫ –ø—Ä–∏—Ä–æ–¥–µ. –û—Ç–ª–∏—á–Ω–æ –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –¥–æ–º–∞.'
  };

  askBtn.addEventListener('click', () => {
    const val = (districtInput.value || '').trim();
    if (!val) {
      showToast('–£–∫–∞–∂–∏—Ç–µ —Ä–∞–π–æ–Ω –∏–ª–∏ –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã–π –ø—É–Ω–∫—Ç');
      return;
    }
    const text = info[val] || '–†–µ–≥–∏–æ–Ω –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –∑–∞—Å—Ç—Ä–æ–π–∫–∏. –£—Ç–æ—á–Ω–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É—á–∞—Å—Ç–∫–∞ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏ –ø–æ–¥ –≤–∞—à –∑–∞–ø—Ä–æ—Å.';
    districtInfo.textContent = text;
    const query = encodeURIComponent(val + ', –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å');
    map.src = `https://www.google.com/maps?q=${query}&output=embed`;
  });

  clearBtn.addEventListener('click', () => {
    districtInput.value = '';
    districtInfo.textContent = '';
    map.src = 'https://www.google.com/maps?q=Saint%20Petersburg&output=embed';
  });
}

// ========= Email —Ñ–æ—Ä–º–∞ =========
function initEmailForm() {
  const form = qs('#emailForm');
  const status = qs('#contactStatus');
  if (!form) return;

  form.addEventListener('submit', (e) => {
    e.preventDefault();

    const honeypot = form.querySelector('[name="honeypot"]');
    if (honeypot && honeypot.value) {
      status.textContent = '–ü–æ—Ö–æ–∂–µ –Ω–∞ —Å–ø–∞–º. –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ.';
      return;
    }

    const name = qs('#name', form)?.value?.trim() || '';
    const email = qs('#email', form)?.value?.trim() || '';
    const message = qs('#message', form)?.value?.trim() || '';
    const preferredTime = qs('#preferredTime', form)?.value?.trim() || '';

    if (!name || !email || !message) {
      status.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è.';
      return;
    }

    const subject = encodeURIComponent(`Dom Veka ‚Äî –∑–∞—è–≤–∫–∞ –æ—Ç ${name}`);
    const bodyLines = [
      `–ò–º—è: ${name}`,
      `Email: ${email}`,
      preferredTime ? `–£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è: ${preferredTime}` : null,
      '',
      message
    ].filter(Boolean);
    const body = encodeURIComponent(bodyLines.join('\n'));

    // –ò—Ç–æ–≥–æ–≤—ã–π email
    const mailto = `mailto:infodomveka@mail.ru?subject=${subject}&body=${body}`;
    window.location.href = mailto;
    status.textContent = '–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç...';
    showToast('–§–æ—Ä–º–∏—Ä—É–µ–º –ø–∏—Å—å–º–æ');
  });
}

// ========= –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ö–æ—Ç–∫–µ–∏ =========
function initGlobalShortcuts() {
  document.addEventListener('keydown', (e) => {
    // Ctrl/Cmd + ArrowUp ‚Äî –Ω–∞–≤–µ—Ä—Ö
    if ((e.ctrlKey || e.metaKey) && e.key === 'ArrowUp') {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  });
}

// ========= –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–Ω –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞) =========
function fillProjectPrices() {
  // –ò–∑ –æ–ø–∏—Å–∞–Ω–∏–π:
  // p1: –æ—Ç 30 000 000 ‚ÇΩ
  // p4: –æ—Ç 15 000 000 ‚ÇΩ
  // p5: –æ—Ç 25 000 000 ‚ÇΩ
  // p6: –æ—Ç 15 000 000 ‚ÇΩ
  // p2, p3 ‚Äî –Ω–µ —É–∫–∞–∑–∞–Ω—ã, –æ—Å—Ç–∞–≤–∏–º "‚Äî"
  const priceMap = {
    p1: 30000000,
    p4: 15000000,
    p5: 25000000,
    p6: 15000000
  };
  qsa('strong[data-price]').forEach((el) => {
    const id = el.getAttribute('data-price');
    const val = priceMap[id];
    el.textContent = val ? `${formatMoney(val)} ‚ÇΩ` : '‚Äî';
  });
}
// ========= –û—Ç–¥–µ–ª–∫–∞: –≤–∫–ª–∞–¥–∫–∏, –∫–∞—Ä—É—Å–µ–ª–∏, –º–æ–¥–∞–ª–∫–∞ =========
function initFinishes() {
  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
  const tabsWrap = document.querySelector('#finishes .finishes-tabs');
  const tabBtns = tabsWrap ? Array.from(tabsWrap.querySelectorAll('[data-tab]')) : [];
  const views = Array.from(document.querySelectorAll('#finishes .finish-view'));

  const setTab = (id) => {
    views.forEach(v => { v.hidden = v.id !== id; });
    tabBtns.forEach(b => b.setAttribute('aria-current', b.getAttribute('data-tab') === id ? 'true' : 'false'));
  };

  tabBtns.forEach(btn => {
    btn.addEventListener('click', () => setTab(btn.getAttribute('data-tab')));
    btn.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
        e.preventDefault();
        const i = tabBtns.indexOf(btn);
        const next = e.key === 'ArrowRight' ? (i + 1) % tabBtns.length : (i - 1 + tabBtns.length) % tabBtns.length;
        tabBtns[next].focus();
        setTab(tabBtns[next].getAttribute('data-tab'));
      }
    });
  });

  const current = tabBtns.find(b => b.getAttribute('aria-current') === 'true')?.getAttribute('data-tab') || 'bathroom';
  setTab(current);

  // –ö–∞—Ä—É—Å–µ–ª–∏ –≤–æ –≤–∫–ª–∞–¥–∫–∞—Ö –æ—Ç–¥–µ–ª–∫–∏
  const carousels = Array.from(document.querySelectorAll('#finishes .fin-carousel'));
  carousels.forEach(car => {
    const wrap = car.querySelector('.fin-carousel__wrap');
    const imgEl = car.querySelector('.fin-carousel__img');
    const idxEl = car.querySelector('.fin-idx');
    const prevBtn = car.querySelector('.fin-prev');
    const nextBtn = car.querySelector('.fin-next');

    const imgs = (car.getAttribute('data-images') || '')
      .split(',').map(s => s.trim()).filter(Boolean);

    if (!wrap || !imgEl || imgs.length === 0) return;

    let idx = 0;

    const render = () => {
      imgEl.src = imgs[idx];
      if (idxEl) idxEl.textContent = `${idx + 1}/${imgs.length}`;
      const baseAlt = (imgEl.getAttribute('alt') || '').replace(/\s‚Äî\s—Ñ–æ—Ç–æ\s\d+$/u, '');
      imgEl.alt = `${baseAlt} ‚Äî —Ñ–æ—Ç–æ ${idx + 1}`;
    };

    const next = () => { idx = (idx + 1) % imgs.length; render(); };
    const prev = () => { idx = (idx - 1 + imgs.length) % imgs.length; render(); };

    prevBtn?.addEventListener('click', (e) => { e.preventDefault(); prev(); });
    nextBtn?.addEventListener('click', (e) => { e.preventDefault(); next(); });

    wrap.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') { e.preventDefault(); prev(); }
      if (e.key === 'ArrowRight') { e.preventDefault(); next(); }
      if (e.key === 'Enter') { e.preventDefault(); openModalImage(imgs[idx], imgs, idx); }
    });

    imgEl.addEventListener('click', (e) => {
      e.preventDefault();
      openModalImage(imgs[idx], imgs, idx);
    });

    let startX = 0, swiping = false;
    wrap.addEventListener('pointerdown', (e) => { swiping = true; startX = e.clientX; wrap.setPointerCapture?.(e.pointerId); });
    wrap.addEventListener('pointerup', (e) => {
      if (!swiping) return;
      const dx = e.clientX - startX;
      if (Math.abs(dx) > 30) { dx < 0 ? next() : prev(); }
      swiping = false;
    });

    render();
  });
}
})();
</script>
</body>
</html>
